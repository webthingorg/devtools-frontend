{
  "comments": [
    {
      "key": {
        "uuid": "faa96560_8fb77bca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-08-31T18:16:42Z",
      "side": 1,
      "message": "Hi Connor,\nI left a couple of comments :)",
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56affada_2b9788e8",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-08-31T18:16:42Z",
      "side": 1,
      "message": "Hi Connor, I think there area a couple of cases where this may lead to unexpected behavior:\n- A user with 4 locales in order: (es-MX, de-de, fr, en), the one used in the top (es) is used as the UI language, but AFAIK the others (de, fr, en) are not ordered at all. \n\nI think is better to try to match locale and if not use english.",
      "range": {
        "startLine": 84,
        "startChar": 3,
        "endLine": 84,
        "endChar": 45
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b6b5626_8dfaadde",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1378407
      },
      "writtenOn": "2020-08-31T18:33:50Z",
      "side": 1,
      "message": "The spec does mention it\u0027s ordered by preference. https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator-languages",
      "parentUuid": "56affada_2b9788e8",
      "range": {
        "startLine": 84,
        "startChar": 3,
        "endLine": 84,
        "endChar": 45
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4dd516c3_a756a1d7",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-09-01T03:57:21Z",
      "side": 1,
      "message": "you are right they are ordered (Today I learned) ðŸ˜‰. But still not sure is this is what is expected, as Devtools and Lighthouse can be localized on a different set of locales, this can lead to a scenario where Devtools are in English and Lighthouse in another language, I think:\n\nhttps://docs.google.com/document/d/1L6TkT2-42MMQ72ZSBMFwUaq7M6mDgA2X0x8oHHKaV_U/edit?disco\u003dAAAAG42oadA\n\n\"When the browser is localized in any language other than English, turning on the setting will result in DevTools being displayed in the same language,  If itâ€™s off, DevTools will be in English\"\n\nI don\u0027t think this is a blocker at all but it will be good to be on the same line to avoid a disrupting experience. Thoughts on this?",
      "parentUuid": "2b6b5626_8dfaadde",
      "range": {
        "startLine": 84,
        "startChar": 3,
        "endLine": 84,
        "endChar": 45
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e27b051_c57382f7",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1378407
      },
      "writtenOn": "2020-09-01T19:02:54Z",
      "side": 1,
      "message": "Is anything in the devtools front end localized today?\n\nI don\u0027t think we can expect the locales that LH covers to equal the locales that Chrome devtools frontend covers, fwiw.",
      "parentUuid": "4dd516c3_a756a1d7",
      "range": {
        "startLine": 84,
        "startChar": 3,
        "endLine": 84,
        "endChar": 45
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7124dc68_ccab08a1",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-09-01T23:02:31Z",
      "side": 1,
      "message": "good point, nothing is localized yet, my comment was more towards the fallback logic: \nThe design document mentions that the fallback should be directly to en-US, but the logic you propose in here is not a bad idea. I\u0027ll add this to the design document and we can decide to revisit this when we implement the actual Settings to control loc.",
      "parentUuid": "9e27b051_c57382f7",
      "range": {
        "startLine": 84,
        "startChar": 3,
        "endLine": 84,
        "endChar": 45
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96476c29_24f98630",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-08-31T18:16:42Z",
      "side": 1,
      "message": "just wanted to double check that everybody is on the same page. This line will only work if specific Chromium implementations reenable the lighthouse locales in the pak file:\n2302592: Exclude generated Lighthouse locale files | https://chromium-review.googlesource.com/c/devtools/devtools-frontend/+/2302592",
      "range": {
        "startLine": 92,
        "startChar": 12,
        "endLine": 92,
        "endChar": 27
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "714fb4be_faf9b8a8",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1378407
      },
      "writtenOn": "2020-08-31T18:33:50Z",
      "side": 1,
      "message": "My understanding is that this will make a request to the chromium app server, since these files are not included with the base installation.",
      "parentUuid": "96476c29_24f98630",
      "range": {
        "startLine": 92,
        "startChar": 12,
        "endLine": 92,
        "endChar": 27
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fc95681_10a9b2ec",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-09-01T04:23:43Z",
      "side": 1,
      "message": "I\u0027m a little confused, AFAIK the locales were part of the base installation they were removed in the CL I mentioned above. When I saw this(the remove locales CL) it made sense as Chromium it not localized yet, but if I understand correctly the intention on this CL is to enable localized reports on lighthouse and that require the files as exported in here (line 34304):\n\nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/devtools-frontend/src/front_end/third_party/lighthouse/lighthouse-dt-bundle.js?originalUrl\u003dhttps:%2F%2Fcs.chromium.org%2F\n\nAs you mentioned the bundle could be getting the files from a server, but as the bundle is around 80k lines could you point me in the right direction in the LH repo so I can get a better understanding on this?",
      "parentUuid": "714fb4be_faf9b8a8",
      "range": {
        "startLine": 92,
        "startChar": 12,
        "endLine": 92,
        "endChar": 27
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b3cc7e8_4c5c8cd8",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1378407
      },
      "writtenOn": "2020-09-01T19:02:54Z",
      "side": 1,
      "message": "That CL removed the locale files from the default installation. All the files in devtools frontend are still uploaded to the remote module server, and fetchResource will look there if there is no file locally. see https://docs.google.com/document/d/1jQUhxpD_dni1SVAd160c8DjLgUKRx0imgWRXJ3htRf0/edit for more on the remote module server",
      "parentUuid": "1fc95681_10a9b2ec",
      "range": {
        "startLine": 92,
        "startChar": 12,
        "endLine": 92,
        "endChar": 27
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "562ab244_4b4ec2da",
        "filename": "front_end/lighthouse_worker/LighthouseService.js",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2020-09-01T23:02:31Z",
      "side": 1,
      "message": "The link is protected, but not an issue. It seems you have this case covered :) thanks for clarifying.",
      "parentUuid": "3b3cc7e8_4c5c8cd8",
      "range": {
        "startLine": 92,
        "startChar": 12,
        "endLine": 92,
        "endChar": 27
      },
      "revId": "2b7eff0d2b4d92a60ec62d2a4ce1a1ffeaee3564",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}