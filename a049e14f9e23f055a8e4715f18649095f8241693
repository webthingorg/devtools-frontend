{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8184ea77_c94291a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "Thanks, I like it! A bunch of comments inline :)",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ce5ae64_ffbe5cb1",
        "filename": "scripts/component_server/server.js",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "Could we avoid trying to guess at paths? For this purpose we\u0027re generating a file test/build.js in the devtools gen dir that exports a relative path to the source directory. Do you think we could load that here and in the hosted_mode server?",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a70ca8f7_5e196318",
        "filename": "scripts/component_server/server.js",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1458307
      },
      "writtenOn": "2024-07-09T12:09:45Z",
      "side": 1,
      "message": "We don\u0027t want the source directory; we want the location where devtools sources are copied.",
      "parentUuid": "3ce5ae64_ffbe5cb1",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1209bf49_4b269058",
        "filename": "scripts/component_server/server.js",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1458307
      },
      "writtenOn": "2024-07-09T12:13:38Z",
      "side": 1,
      "message": "We don\u0027t want scripts/ to depend on tests/, but I could move build.js into scripts/.",
      "parentUuid": "a70ca8f7_5e196318",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bad21dad_9dc6593f",
        "filename": "scripts/component_server/server.js",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-09T12:18:41Z",
      "side": 1,
      "message": "I see. It looks to me one of the reasons why this is so complicated is that the server expects to be run both from the gen dir and the source dir. WDYT about make it expect to always run from the gen dir? That\u0027d simplify the logic significantly.\n\nI just had this discussion with @liviurau@chromium.org this morning who wanted to look into making that change.",
      "parentUuid": "a70ca8f7_5e196318",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e017dab7_c79a80d2",
        "filename": "scripts/run_on_target.mjs",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "Why do we need to set NODE_PATH?",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "486dbe45_c6014070",
        "filename": "scripts/run_on_target.mjs",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "The regex matches user-local settings, in particular the chromium/src part. Also, I believe this will not work with the integrated checkout.",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad2557bf_88244103",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "This requires that the out dir is inside the checkout, which I\u0027m not sure is guaranteed (I think I\u0027ve seen that on a build bot).\n\nIf we need `repoRootPath` (depending on how the two discussions below go), WDYT about finding the BUILD_ROOT instead? We could find args.gn up from GEN_DIR. We should be able to compute the checkout root from BUILD_ROOT, GEN_DIR, and SOURCE_ROOT.",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b8ae6da_ea33bfde",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1458307
      },
      "writtenOn": "2024-07-09T12:13:38Z",
      "side": 1,
      "message": "I added more info to build.js",
      "parentUuid": "ad2557bf_88244103",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5470eae3_d084b989",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-09T12:27:37Z",
      "side": 1,
      "message": "nice!",
      "parentUuid": "7b8ae6da_ea33bfde",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "751a8666_5606620a",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "Instead of comparing paths, could we check whether GEN_DIR/../args.gn exists? The important bit is less that we\u0027re in a full chromium checkout, but rather if we\u0027re in a full chromium build.",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50bdccc1_6d8b7664",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1458307
      },
      "writtenOn": "2024-07-09T12:09:45Z",
      "side": 1,
      "message": "Maybe? I\u0027m not sure how this affects an internal checkout, and my preference is to change one specific case to work. Elsewhere I assume that if we are in a full checkout we need to add third_party/devtools-frontend/src to the path so it makes sense to check for that specifically.",
      "parentUuid": "751a8666_5606620a",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17b8ef58_4e308681",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-09T14:21:13Z",
      "side": 1,
      "message": "I think this is also a problem in an integrated checkout. the result would come out as !\u003d here.",
      "parentUuid": "50bdccc1_6d8b7664",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7210864_8284ed06",
        "filename": "test/conductor/paths.ts",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1458307
      },
      "writtenOn": "2024-07-09T14:28:07Z",
      "side": 1,
      "message": "What does build.js look like in that scenario? We want that scenario to be false as it should be treated like a devtools only checkout, right?",
      "parentUuid": "17b8ef58_4e308681",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2218a45a_706f19de",
        "filename": "test/run.ts",
        "patchSetId": 4
      },
      "lineNbr": 73,
      "author": {
        "id": 1372423
      },
      "writtenOn": "2024-07-08T17:39:17Z",
      "side": 1,
      "message": "Is this change necessary?",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c178db5_78c1d182",
        "filename": "test/run.ts",
        "patchSetId": 4
      },
      "lineNbr": 73,
      "author": {
        "id": 1458307
      },
      "writtenOn": "2024-07-09T12:09:45Z",
      "side": 1,
      "message": "In cider-g autoninja has trouble finding ninja if it is not run from the root checkout folder.",
      "parentUuid": "2218a45a_706f19de",
      "revId": "a049e14f9e23f055a8e4715f18649095f8241693",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}