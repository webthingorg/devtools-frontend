{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "53c30ce9_09ecd799",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-08T07:34:40Z",
      "side": 1,
      "message": "Hi Jack, please help review this change to show CSS selector stats in the DevTools performance panel.\n\nThanks,\nGavin",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6a58b5d1_55d041f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-12T22:31:41Z",
      "side": 1,
      "message": "+Yanling",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e2c7458_292441f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1513667
      },
      "writtenOn": "2024-02-13T14:23:43Z",
      "side": 1,
      "message": "Paul, PTAL!",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7799a1b_7ca397a4",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1033,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "TimelineModel is legacy and we plan to delete it soon.   Almost everything is now using `this.#traceEngineData` which comes from `front_end/models/trace/**`\n\nso.. I propose that you move this fn over to TimelineDetailsView. And below, a few nitsâ€¦",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f2f8e8fc_635f9e0c",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1033,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Updated to use the new event type. This function used a private static method `topLevelEventEndingAfter`. If we move the function over to TimelineDetailsView, we would need to make the static method `topLevelEventEndingAfter` public.",
      "parentUuid": "e7799a1b_7ca397a4",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e820619_3e197608",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1044,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "usually we check `dur`.  `tdur` is thread duration which we don\u0027t currently read.  But.. i\u0027m flexible here.",
      "range": {
        "startLine": 1044,
        "startChar": 13,
        "endLine": 1044,
        "endChar": 17
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "321f0a14_a9d3140f",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1044,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "`Helpers.Timing.millisecondsToMicroseconds` might be useful.",
      "range": {
        "startLine": 1044,
        "startChar": 47,
        "endLine": 1044,
        "endChar": 53
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c16f50f5_222803b2",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1044,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Updated as suggested. Thanks.",
      "parentUuid": "6e820619_3e197608",
      "range": {
        "startLine": 1044,
        "startChar": 13,
        "endLine": 1044,
        "endChar": 17
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60a25944_072e802c",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1044,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Updated as suggested. Thanks.",
      "parentUuid": "321f0a14_a9d3140f",
      "range": {
        "startLine": 1044,
        "startChar": 47,
        "endLine": 1044,
        "endChar": 53
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0795705_c03de976",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1050,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "do we need this? it seems unlikely we\u0027d have async/flow here if we did the `e.name` match above.",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "604f8b0d_d6b16ae3",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1050,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Removed the async/flow check as suggested. Thanks.",
      "parentUuid": "e0795705_c03de976",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a621019_d13269f6",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1053,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "```suggestion\n      stack.push(structuredClone(e));\n```",
      "range": {
        "startLine": 1053,
        "startChar": 33,
        "endLine": 1053,
        "endChar": 42
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8408402a_6598122c",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1053,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Updated as suggested. Thanks.",
      "parentUuid": "1a621019_d13269f6",
      "range": {
        "startLine": 1053,
        "startChar": 33,
        "endLine": 1053,
        "endChar": 42
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0224e07_e0ccd370",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1228,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "```suggestion\n  SelectorStats \u003d \u0027SelectorStats\u0027,\n```",
      "range": {
        "startLine": 1227,
        "startChar": 0,
        "endLine": 1228,
        "endChar": 34
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee6fdf0e_64ceb371",
        "filename": "front_end/models/timeline_model/TimelineModel.ts",
        "patchSetId": 6
      },
      "lineNbr": 1228,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Updated as suggested. Thanks.",
      "parentUuid": "c0224e07_e0ccd370",
      "range": {
        "startLine": 1227,
        "startChar": 0,
        "endLine": 1228,
        "endChar": 34
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a4dff97_9299a758",
        "filename": "front_end/panels/timeline/TimelineController.ts",
        "patchSetId": 6
      },
      "lineNbr": 128,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "I will offer that the original impl (https://crrev.com/c/3582806) still adds significant overhead. \n\nReloading a page from the chrome web store.. The first recalc is normally 9-15ms. But with this category on, it jumps up to ~220ms.\nAlso, if you sum up all the `elapsed` timings. They add up to about 1-2ms. I haven\u0027t yet found a case where this ElapsedSum is more than 20% of the original uninstrumented duration. \n\nSo this all makes me wary to expose these numbers to developers.  I don\u0027t intend to block the CL with this feedback, but.. I wouldn\u0027t mind if you have anything to offer that can set my mind at ease. :)",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53030e32_fc9f5528",
        "filename": "front_end/panels/timeline/TimelineController.ts",
        "patchSetId": 6
      },
      "lineNbr": 128,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-14T07:41:42Z",
      "side": 1,
      "message": "The extra time is actually from `option.capturePictures` instead of `options.captureSelectorStats`. The selector stats feature reused the flag \u0027Enable advanced paint instrumentation (slow)\u0027 to save space. Please let us know if you prefer creating a new flag to enable/disable the selector stats feature. The elapsed timing could be large on web apps like office and Teams.",
      "parentUuid": "1a4dff97_9299a758",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2e9937a_f010e8e4",
        "filename": "front_end/panels/timeline/TimelineController.ts",
        "patchSetId": 6
      },
      "lineNbr": 128,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-15T22:08:51Z",
      "side": 1,
      "message": "\u003e The extra time is actually from option.capturePictures instead of options.captureSelectorStats. \n\nI commented out the trace categories behind `options.capturePictures` to ensure they\u0027re not being collected. I can still repro a 14ms to 390ms difference. \n\nAlso, coincidentally, today my colleague mentioned a recalc over 5 seconds when using this feature in Edge Canary.\n\nDo you see similar results? (When disabling the layers/pictures/etc trace categories)",
      "parentUuid": "53030e32_fc9f5528",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e413d43f_f3887e6b",
        "filename": "front_end/panels/timeline/TimelineController.ts",
        "patchSetId": 6
      },
      "lineNbr": 128,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-03-05T18:59:14Z",
      "side": 1,
      "message": "I created a new setting and flag for the selector stats. I\u0027ll add a test case ensure that the selector stats feature does not add significant overhead.",
      "parentUuid": "b2e9937a_f010e8e4",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3497dab5_f4b9efaf",
        "filename": "front_end/panels/timeline/TimelineController.ts",
        "patchSetId": 6
      },
      "lineNbr": 230,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "i think this was removed?",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4abb08bd_248d5b36",
        "filename": "front_end/panels/timeline/TimelineController.ts",
        "patchSetId": 6
      },
      "lineNbr": 230,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Removed as suggested. Thanks.",
      "parentUuid": "3497dab5_f4b9efaf",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e07b45df_c9aa5d5d",
        "filename": "front_end/panels/timeline/TimelineDetailsView.ts",
        "patchSetId": 6
      },
      "lineNbr": 419,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "i think this was renamed to `timeline-capture-layers-and-pictures` a few hours back.\n\nbut also.. don\u0027t we want to use a reference to the setting and call .get() on that? \ni\u0027m not used to seeing extra createSetting() calls only to get a reference to a previously-created setting..    But, I\u0027m flexible here. It\u0027s probably not a huge deal.",
      "range": {
        "startLine": 419,
        "startChar": 59,
        "endLine": 419,
        "endChar": 91
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07a880ad_e6711736",
        "filename": "front_end/panels/timeline/TimelineDetailsView.ts",
        "patchSetId": 6
      },
      "lineNbr": 419,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "Updated as suggested. Thanks. The createSetting does not always create a new setting. When a setting has been created before, it just reads the value from the `#registry`.",
      "parentUuid": "e07b45df_c9aa5d5d",
      "range": {
        "startLine": 419,
        "startChar": 59,
        "endLine": 419,
        "endChar": 91
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8ed2ad5_70ea7e0f",
        "filename": "front_end/panels/timeline/TimelineSelectorStatsView.ts",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-02-14T06:44:56Z",
      "side": 1,
      "message": "the name of this trace data arg is pretty unfortunate. But..  I guess the ship has already sailed? :/",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fa19e55_3ea7e511",
        "filename": "front_end/panels/timeline/TimelineSelectorStatsView.ts",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-15T00:22:57Z",
      "side": 1,
      "message": "These names are from an early CL: https://chromium-review.googlesource.com/c/chromium/src/+/3582806. We can update the names in the backend if kebab style is preferred here.",
      "parentUuid": "f8ed2ad5_70ea7e0f",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7994af58_1b00f55b",
        "filename": "front_end/panels/timeline/TimelineSelectorStatsView.ts",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-03-07T01:32:33Z",
      "side": 1,
      "message": "no worries",
      "parentUuid": "4fa19e55_3ea7e511",
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56f2d383_da8d75f6",
        "filename": "test/e2e/performance/selector-stats-tracing_test.ts",
        "patchSetId": 6
      },
      "lineNbr": 64,
      "author": {
        "id": 1429976
      },
      "writtenOn": "2024-02-08T07:34:40Z",
      "side": 1,
      "message": "this test depends on the backend change: https://chromium-review.googlesource.com/c/chromium/src/+/5100834",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 64,
        "endChar": 97
      },
      "revId": "3e3c05906e9378211a82fa2deffffb22c37d4005",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}