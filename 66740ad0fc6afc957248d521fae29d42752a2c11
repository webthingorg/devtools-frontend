{
  "comments": [
    {
      "key": {
        "uuid": "123c0c5b_8920b273",
        "filename": "front_end/object_ui/ObjectPropertiesSection.js",
        "patchSetId": 2
      },
      "lineNbr": 985,
      "author": {
        "id": 1339167
      },
      "writtenOn": "2019-12-09T23:28:33Z",
      "side": 1,
      "message": "This works fine, but it feels less than ideal that we have to query the DOM like this to figure out if there\u0027s anything we need to put in the context menu. It might be possible to solve this with UI.ContextMenu.Provider, like Linkifier does IIRC",
      "range": {
        "startLine": 985,
        "startChar": 50,
        "endLine": 985,
        "endChar": 66
      },
      "revId": "66740ad0fc6afc957248d521fae29d42752a2c11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b138473_f71b4630",
        "filename": "front_end/object_ui/ObjectPropertiesSection.js",
        "patchSetId": 2
      },
      "lineNbr": 985,
      "author": {
        "id": 1334577
      },
      "writtenOn": "2019-12-09T23:41:49Z",
      "side": 1,
      "message": "Is possible, would be great to add a webtest here. In case someone adds a shadowRoot under valueElement, this will stop being keyboard accessible again.",
      "range": {
        "startLine": 985,
        "startChar": 50,
        "endLine": 985,
        "endChar": 66
      },
      "revId": "66740ad0fc6afc957248d521fae29d42752a2c11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f694c9e_f49f383e",
        "filename": "front_end/object_ui/ObjectPropertiesSection.js",
        "patchSetId": 2
      },
      "lineNbr": 985,
      "author": {
        "id": 1330301
      },
      "writtenOn": "2019-12-09T23:42:48Z",
      "side": 1,
      "message": "yeah, the challenge with this is that there is no class that encapsulates the expandable text components. UIUtils.createExpandableText returns a document fragment with abbreviated text and inline buttons. I started to look into creating an ExpandableText class (which could properly implement ContextMenu.Provider), but then all call sites need to be updated to own an instance of the class and it quickly grows outside the scope of an a11y bug fix.",
      "parentUuid": "123c0c5b_8920b273",
      "range": {
        "startLine": 985,
        "startChar": 50,
        "endLine": 985,
        "endChar": 66
      },
      "revId": "66740ad0fc6afc957248d521fae29d42752a2c11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58313349_accdfc1b",
        "filename": "front_end/object_ui/ObjectPropertiesSection.js",
        "patchSetId": 2
      },
      "lineNbr": 985,
      "author": {
        "id": 1330301
      },
      "writtenOn": "2019-12-10T00:04:06Z",
      "side": 1,
      "message": "I will add a webtest once this change goes through",
      "parentUuid": "4b138473_f71b4630",
      "range": {
        "startLine": 985,
        "startChar": 50,
        "endLine": 985,
        "endChar": 66
      },
      "revId": "66740ad0fc6afc957248d521fae29d42752a2c11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b8b3869_bc1c6169",
        "filename": "front_end/object_ui/ObjectPropertiesSection.js",
        "patchSetId": 2
      },
      "lineNbr": 985,
      "author": {
        "id": 1341669
      },
      "writtenOn": "2019-12-10T17:08:17Z",
      "side": 1,
      "message": "I know it\u0027s a bit more work, but I\u0027m also in favor of trying to avoid querySelector to find the buttons, It would be really easy to change the class and then this querySelector would break. AFAIK, this util is only used in 2 places: ObjectPropertiesSection.js and ConsoleViewMessage.js. I bet the ConsoleViewMessage.js has the same A11y issue, and adding the class with contextMenu provider might be worth it?",
      "parentUuid": "4f694c9e_f49f383e",
      "range": {
        "startLine": 985,
        "startChar": 50,
        "endLine": 985,
        "endChar": 66
      },
      "revId": "66740ad0fc6afc957248d521fae29d42752a2c11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}