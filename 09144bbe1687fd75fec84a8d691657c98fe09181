{
  "comments": [
    {
      "key": {
        "uuid": "f76792ba_1c47e908",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2020-10-02T09:11:04Z",
      "side": 1,
      "message": "Thinking about this a bit more, I\u0027m not sure this is the right fix here. Firstly, please could you point me to a flake on the bots? Or are you just seeing this locally?\n\nWe should try to understand exactly what part of the test is causing the timeout; is it that the button wasn\u0027t rendered to be clicked? Or that the click (for some reason) isn\u0027t firing? Or that there\u0027s a bug in the `withNoMutations` helper? Or a bug in the `waitForScroll` helper?\n\nBasically I\u0027d like to understand this test flake more (and see it, I\u0027ve not seen it fail once since I relanded it) rather than fix it with a 100ms timeout which will really just mask a problem in the test that may then appear in other tests too. If we understand it we can avoid causing it again.",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2c27ec7_415a9efe",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1429737
      },
      "writtenOn": "2020-10-02T16:22:49Z",
      "side": 1,
      "message": "The error is happening locally and in our build system. I have debugged the test, and the button is rendered, the selector for the button is returning the button correctly, the `dispatchEvent` method is returning success. I have tried to remove the `withNoMuations` and it didn\u0027t work, I also have tried to get the item button from inside the `withNoMuatation` and nothing is working. waitForScroll works perfectly, if I debug the test and I click manually the button, the test pass.\n\nAre you testing in windows or Linux? I\u0027m using windows.",
      "parentUuid": "f76792ba_1c47e908",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b132dfa_c846dc3d",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2020-10-05T08:37:29Z",
      "side": 1,
      "message": "I\u0027m testing on a Mac personally but the bots that get run on CLs run the tests on Linux, Mac and Windows. To my knowledge the test hasn\u0027t flaked on the Chromium infrastructure which makes me wonder if there\u0027s something different about your build system (I\u0027m assuming it\u0027s an internal system so you can\u0027t point me to a flake?) that\u0027s causing it. I wonder if this is an Edge vs Chromium difference (although unlikely!) ? \n\nTo be clear, I\u0027m not adverse to landing a fix if it\u0027s causing flakes locally on Windows machines, but I\u0027d like to understand the exact problem to land a fix that can make all future tests robust (else we\u0027ll end up either having to repeat this CL N times for every test, or end up with seemingly random timeouts in our unit tests).",
      "parentUuid": "d2c27ec7_415a9efe",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e52c291_c8670869",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-10-05T09:01:29Z",
      "side": 1,
      "message": "For me the test ElementsBreadcrumbs_test.ts fails on my local dev machine on Windows 10.\n\nChrome Headless 88.0.4284.0 (Windows 10) ElementsBreadcrumbs rendering breadcrumbs when the breadcrumbs overflow disables the right button once the user has scrolled to the end FAILED\n        Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves.\nChrome Headless 88.0.4284.0 (Windows 10): Executed 17 of 781 (1 FAILED) (2.354 secs / 2.198 secs)\nUsing Chromium binary (D:\\dev\\chromium\\devtools\\devtools-frontend\\third_party\\chrome\\chrome-win\\chrome.exe)\n\nUsing karma config D:\\dev\\chromium\\devtools\\devtools-frontend\\out\\Default\\gen\\test\\unittests\\karma.conf.js\nERRORS DETECTED",
      "parentUuid": "8b132dfa_c846dc3d",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58508875_2e82b830",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2020-10-05T09:29:49Z",
      "side": 1,
      "message": "Thanks Patrick that\u0027s really useful. I\u0027m curious that it doesn\u0027t seem to fail on our Windows bots.\n\nIf you run the test in debug mode, does it still fail?\n\nI\u0027m in the middle of setting up a Windows machine so hopefully I\u0027ll be able to recreate the problem soon too.",
      "parentUuid": "4e52c291_c8670869",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8db54a27_b9da1688",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-10-05T10:02:32Z",
      "side": 1,
      "message": "Yes, it still seems to fail in debug mode (set DEBUG\u003d1) on windows.\nIt\u0027s really odd, it started (for me) about a week or 2 ago. When it did, I made sure it wasn\u0027t caused by some work I was doing locally, and then saw that it wasn\u0027t failing in CQ, so I sort of forgot about it. But it\u0027s constantly failing for me locally now.",
      "parentUuid": "58508875_2e82b830",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37496cc7_55426eda",
        "filename": "test/unittests/front_end/helpers/DOMHelpers.ts",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1429737
      },
      "writtenOn": "2020-10-05T17:55:07Z",
      "side": 1,
      "message": "Thanks Patrick for your help. In my case the error is very similar:\n\n`Chrome Headless 87.0.4274.0 (Windows 10): Executed 767 of 768 (1 FAILED) (skipped 1) (2.819 secs / 2.522 secs)`",
      "parentUuid": "8db54a27_b9da1688",
      "range": {
        "startLine": 137,
        "startChar": 2,
        "endLine": 137,
        "endChar": 5
      },
      "revId": "09144bbe1687fd75fec84a8d691657c98fe09181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}