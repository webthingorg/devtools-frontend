{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "37b3774f_8ae038bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-24T18:57:03Z",
      "side": 1,
      "message": "Hello Mathias, interested in your thoughts on sharing Puppeteer connection impl between Lighthouse and recorder panel like this.",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0da44622_7721ce6b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1214214
      },
      "writtenOn": "2022-01-25T07:56:53Z",
      "side": 1,
      "message": "Alex, Jun, could you PTAL?",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f73c917_a3551cfe",
        "filename": "front_end/entrypoints/lighthouse_worker/LighthouseService.ts",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-01-25T09:22:51Z",
      "side": 1,
      "message": "I think we might need to dispose the connection after it\u0027s no longer used by Lighthouse.",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fdf4cea0_415ac4f5",
        "filename": "front_end/entrypoints/lighthouse_worker/LighthouseService.ts",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-26T19:18:51Z",
      "side": 1,
      "message": "We call `browser.disconnect()` now, will that automatically dispose the connection?",
      "parentUuid": "9f73c917_a3551cfe",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4d9beecc_d7bb7fa6",
        "filename": "front_end/entrypoints/lighthouse_worker/LighthouseService.ts",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-01-27T07:44:38Z",
      "side": 1,
      "message": "I think it works when there is a real separate connection but parallel connection is a bit quirky. We ran into some problems like DevTools is not working properly after running a replay if the connection is running over DevTools bindings. It works when the underlying connection is a web socket as that gets disconnected and the backend destroys the agents. This was a while ago so I just mention it so that we can verify that DevTools is still operational after running a Puppeteer connection. Also, the tests are executed using a web socket so the issues were not discovered by the tests, IIRC.",
      "parentUuid": "fdf4cea0_415ac4f5",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b8964a3_013d5475",
        "filename": "front_end/entrypoints/lighthouse_worker/LighthouseService.ts",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-02-08T18:48:59Z",
      "side": 1,
      "message": "What\u0027s the resolution here? I know we\u0027ve faced some oddities when the agents are resumed when we\u0027re disconnecting.\n\nhttps://github.com/GoogleChrome/lighthouse/issues/13273#issuecomment-960001555\nhttps://github.com/GoogleChrome/lighthouse/issues/13396#issuecomment-984291899\n\nThat said, I still barely understand how target/model suspending/resumption works with the parallel connections.",
      "parentUuid": "4d9beecc_d7bb7fa6",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b51e3639_254d1349",
        "filename": "front_end/entrypoints/lighthouse_worker/PuppeteerConnection.ts",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-25T17:01:25Z",
      "side": 1,
      "message": "Using this TS interface now instead of `SDK.Connections.ParallelConnection`",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adcf1dc6_ac119a3b",
        "filename": "front_end/entrypoints/lighthouse_worker/PuppeteerConnection.ts",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-26T19:18:51Z",
      "side": 1,
      "message": "Moving comment to new file",
      "parentUuid": "b51e3639_254d1349",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e25505b9_2a10604c",
        "filename": "front_end/entrypoints/lighthouse_worker/PuppeteerConnection.ts",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-25T17:01:25Z",
      "side": 1,
      "message": "Instead of creating a parallel connection and finding the mainFrameId and mainTargetId, it has these values passed in as parameters. This is se we don\u0027t have to access the sdk directly where this function is called.",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7a8424fa_20b8168e",
        "filename": "front_end/entrypoints/lighthouse_worker/PuppeteerConnection.ts",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-26T19:18:51Z",
      "side": 1,
      "message": "Moving comment to new file",
      "parentUuid": "e25505b9_2a10604c",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "698854c3_5166759b",
        "filename": "front_end/third_party/lighthouse/lighthouse-dt-bundle.js",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-01-25T09:19:52Z",
      "side": 1,
      "message": "nit: is it possible to extract the Lighthouse roll into a separate CL?",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fdfd2f54_4db6bd27",
        "filename": "front_end/third_party/lighthouse/lighthouse-dt-bundle.js",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-25T17:01:25Z",
      "side": 1,
      "message": "Yes",
      "parentUuid": "698854c3_5166759b",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c47fb58a_bb02cbc2",
        "filename": "front_end/third_party/lighthouse/lighthouse-dt-bundle.js",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-26T19:18:51Z",
      "side": 1,
      "message": "The next official Lighthouse roll will include these changes.",
      "parentUuid": "fdfd2f54_4db6bd27",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "befbb401_8dc853b6",
        "filename": "front_end/third_party/lighthouse/lighthouse-dt-bundle.js",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1347952
      },
      "writtenOn": "2022-01-31T18:32:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c47fb58a_bb02cbc2",
      "revId": "eb68518396abc4b9def803b2d94662aa8edf4d16",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}