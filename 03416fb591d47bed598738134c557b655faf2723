{
  "comments": [
    {
      "key": {
        "uuid": "9a8afba7_585d22e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-09-01T07:11:04Z",
      "side": 1,
      "message": "Another attempt to improve the performance of Loc presubmit. \n@Tim could you give this one a try? Thanks!",
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff7e2053_5f3242f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1365394
      },
      "writtenOn": "2020-09-01T11:29:28Z",
      "side": 1,
      "message": "There\u0027s a lot going on and I am not 100% an expert on the localization pipeline. The changes seem good to me though, e.g. fewer processes and fewer file reads are a good goal. Deferring full implementation review to Peter.",
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a09e4b9d_9b8062c8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1167239
      },
      "writtenOn": "2020-09-01T13:41:54Z",
      "side": 1,
      "message": "Simon can you review please?",
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d76a0d13_7da134da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-09-02T05:59:55Z",
      "side": 1,
      "message": "lgtm % question",
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2ebe51f_9a160bcd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-09-02T08:53:36Z",
      "side": 1,
      "message": "Replied in comments",
      "parentUuid": "d76a0d13_7da134da",
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3bb386c4_8559092f",
        "filename": "scripts/localization/utils/check_localizability.js",
        "patchSetId": 11
      },
      "lineNbr": 61,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-09-02T05:59:55Z",
      "side": 1,
      "message": "I must say I would have preferred to keep the additional \"error array\" argument everywhere. Even if you pass in the global `localizabilityErrors`, the functions themselves would stay unit testable. This way they are not.\n\nI am fine with the code as-is, since we gonna remove it once V2 lands, but for future CLs, please try to reduce dependencies of functions on globals, it makes the code harder to read.",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 61,
        "endChar": 1
      },
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc938b0b_5c106698",
        "filename": "scripts/localization/utils/check_localizability.js",
        "patchSetId": 11
      },
      "lineNbr": 61,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-09-02T08:53:36Z",
      "side": 1,
      "message": "I agree this is not ideal. I will leave this as it for now, and make sure to refactor it away when V2 lands. \n\nThe current flow goes like this: \nnode check_localizable_resources\n\u003e\u003e call check_localized_strings to parse all grdps and .js files\n\u003e\u003e\u003e\u003e when grdps are being parsed, also run auditGrdpFile\n\u003e\u003e\u003e\u003e when .js files being parsed, also run `analyzeCommonUIStringNode`/`analyzeTaggedTemplateNode`\n\u003e\u003e done parsing, start running check_localizable_resources checks\nOutput both localizability errors and localizable_resources errors\n\nWhen V2 lands and we move away from Grdps, it will just become this:\nnode check_localizable_resources\n\u003e\u003e call check_localized_strings(errors) to parse and check the .js files that has diffs\noutput errors",
      "parentUuid": "3bb386c4_8559092f",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 61,
        "endChar": 1
      },
      "revId": "03416fb591d47bed598738134c557b655faf2723",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}