{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "29c7ad3e_33fee34b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1341669
      },
      "writtenOn": "2021-02-09T22:52:52Z",
      "side": 1,
      "message": "Hey Andres, we are running into an error due to this change. Please see the comment on the settings file",
      "revId": "4ce36a5a37643f80e84270c624fd238e9874f264",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd5a0b68_5bc53b64",
        "filename": "front_end/common/Settings.js",
        "patchSetId": 4
      },
      "lineNbr": 924,
      "author": {
        "id": 1341669
      },
      "writtenOn": "2021-02-09T22:52:52Z",
      "side": 1,
      "message": "Title needs to have the same ternary check as text, or this function throws an error when retrieving settings that have text titles",
      "range": {
        "startLine": 924,
        "startChar": 10,
        "endLine": 924,
        "endChar": 25
      },
      "revId": "4ce36a5a37643f80e84270c624fd238e9874f264",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25684f58_a3f0ad8f",
        "filename": "front_end/common/Settings.js",
        "patchSetId": 4
      },
      "lineNbr": 924,
      "author": {
        "id": 1447167
      },
      "writtenOn": "2021-02-10T12:46:19Z",
      "side": 1,
      "message": "Hi Brandon, could you please attach a log of the error you are getting so that I can help debug? I am not sure why a ternary check is needed for this field since it is defined as a function in the type system: \nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/devtools-frontend/src/front_end/common/SettingRegistration.ts;drc\u003d88bd2884d889140f60ff34c840dcd6b28508cfa0;l\u003d149",
      "parentUuid": "fd5a0b68_5bc53b64",
      "range": {
        "startLine": 924,
        "startChar": 10,
        "endLine": 924,
        "endChar": 25
      },
      "revId": "4ce36a5a37643f80e84270c624fd238e9874f264",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9727509a_66e846d9",
        "filename": "front_end/common/Settings.js",
        "patchSetId": 4
      },
      "lineNbr": 924,
      "author": {
        "id": 1341669
      },
      "writtenOn": "2021-02-10T16:32:48Z",
      "side": 1,
      "message": "Sure, the error I\u0027m getting is:\nSettings.js:418 Uncaught (in promise) TypeError: title is not a function\n    at Settings.js:418\n    at Array.map (\u003canonymous\u003e)\n    at Setting.options (Settings.js:414)\n    at createControlForSetting (SettingsUI.js:175)\n    at new GenericSettingsTab (SettingsScreen.js:256)\n    at Function.instance (SettingsScreen.js:271)\n    at Object.loadView (settings-meta.js:67)\n\nNow this is happening on a new call to the options() function defined in Settings.js, which is just grabbing the settings for Theme. the returned setting is: \n{value: \"systemPreferred\", title: \"Switch to system preferred color theme\", text: \"System preference\"}\n\nYou are correct that the typing is defined for a function. However, I believe you are migrating existing settings that could have been registered before the new system. Since settings are preserved in either local storage or the userDataDir (I can\u0027t remember which), what I believe is happening is that when retrieving a setting that I have locally registered before the migration, the title is a type string and not a function, so it errors out?",
      "parentUuid": "25684f58_a3f0ad8f",
      "range": {
        "startLine": 924,
        "startChar": 10,
        "endLine": 924,
        "endChar": 25
      },
      "revId": "4ce36a5a37643f80e84270c624fd238e9874f264",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}