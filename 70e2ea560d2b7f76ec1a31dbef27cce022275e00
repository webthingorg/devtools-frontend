{
  "comments": [
    {
      "key": {
        "uuid": "db4d52d5_4963b22b",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1167239
      },
      "writtenOn": "2020-06-09T12:14:45Z",
      "side": 1,
      "message": "I would suggest returning the error string from checkUIStrings, rather than setting this global from addUIStringsCheckError. To me it makes it easier to track the data flow through this script. If you think it\u0027s too messy to plumb this in everywhere then I\u0027m OK with that too.\n\nSame with autoFixMessage",
      "range": {
        "startLine": 16,
        "startChar": 4,
        "endLine": 16,
        "endChar": 16
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59447ebe_be5ed07c",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "+1, but no strong opinion on this one.",
      "parentUuid": "db4d52d5_4963b22b",
      "range": {
        "startLine": 16,
        "startChar": 4,
        "endLine": 16,
        "endChar": 16
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c28c1859_46395c46",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Thanks for the feedback! Removed the global and return the message directly.",
      "parentUuid": "59447ebe_be5ed07c",
      "range": {
        "startLine": 16,
        "startChar": 4,
        "endLine": 16,
        "endChar": 16
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91951ec0_83f5a7b1",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "rename to {uiStringsMap}, otherwise this looks like a class/type, which is somewhat confusing. Same for {UIStringsEntries} \u003d\u003e {uiStringsEntries}.",
      "range": {
        "startLine": 32,
        "startChar": 49,
        "endLine": 32,
        "endChar": 61
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "228e3c72_3cb7607d",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91951ec0_83f5a7b1",
      "range": {
        "startLine": 32,
        "startChar": 49,
        "endLine": 32,
        "endChar": 61
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3352218_3128a627",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "{entryFromCallsMap} is not a Map, but an Array of call-sites. These might be better names?\n\n function getStringIdsFromCallSites(callSites) {\n   const stringIdSet \u003d ...;",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 64,
        "endChar": 31
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1868776_f3b10281",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3352218_3128a627",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 64,
        "endChar": 31
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a177016c_e073ab20",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "Lets rename this then :)\n\n function collectUnusedStringIds(uiStringsEntries, calledStringIds, isModuleJSON) {\n   const unusedEntries \u003d [];",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 77,
        "endChar": 24
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1f95bfe_82a7c96a",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a177016c_e073ab20",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 77,
        "endChar": 24
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d98e1835_c99384c1",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 114,
      "author": {
        "id": 1167239
      },
      "writtenOn": "2020-06-09T12:14:45Z",
      "side": 1,
      "message": "What do you think about using typescript parser rather than regex to find and parse the UIStrings object? (also for removedUnusedEntryFromUIStrings). I think it would make this code more resilient to future changes to the codebase.\n\nIt\u0027s hard to see exactly what assumptions we make about the formatting and syntax of the source code by using regexs.\n\nWe are doing this in check_localized_strings.js already",
      "range": {
        "startLine": 114,
        "startChar": 2,
        "endLine": 114,
        "endChar": 65
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52294ac3_da40a7b7",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 114,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "Agreed. I\u0027d prefer to invest in a proper AST rewriter here.",
      "parentUuid": "d98e1835_c99384c1",
      "range": {
        "startLine": 114,
        "startChar": 2,
        "endLine": 114,
        "endChar": 65
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d1621f4_c391ba69",
        "filename": "scripts/localization/localizationV2Checks.js",
        "patchSetId": 2
      },
      "lineNbr": 114,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "52294ac3_da40a7b7",
      "range": {
        "startLine": 114,
        "startChar": 2,
        "endLine": 114,
        "endChar": 65
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ff1920c_7da1ffff",
        "filename": "scripts/localization/utils/check_localized_strings.js",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "as noted in the other file, I\u0027d prefer we rename this to {uiStringsMap}.",
      "range": {
        "startLine": 99,
        "startChar": 6,
        "endLine": 99,
        "endChar": 18
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28ec57ab_e2a023d2",
        "filename": "scripts/localization/utils/check_localized_strings.js",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4ff1920c_7da1ffff",
      "range": {
        "startLine": 99,
        "startChar": 6,
        "endLine": 99,
        "endChar": 18
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55900715_3faaaa62",
        "filename": "scripts/localization/utils/check_localized_strings.js",
        "patchSetId": 2
      },
      "lineNbr": 491,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "nit:\n const currentString \u003d {stringId, code};",
      "range": {
        "startLine": 491,
        "startChar": 2,
        "endLine": 491,
        "endChar": 57
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87c02da1_00fa79b9",
        "filename": "scripts/localization/utils/check_localized_strings.js",
        "patchSetId": 2
      },
      "lineNbr": 491,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55900715_3faaaa62",
      "range": {
        "startLine": 491,
        "startChar": 2,
        "endLine": 491,
        "endChar": 57
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "563f6da2_d1c5f53a",
        "filename": "scripts/localization/utils/check_localized_strings.js",
        "patchSetId": 2
      },
      "lineNbr": 502,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "I don\u0027t think this {set} call is needed.",
      "range": {
        "startLine": 502,
        "startChar": 4,
        "endLine": 502,
        "endChar": 51
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6259bff_e6b098e8",
        "filename": "scripts/localization/utils/check_localized_strings.js",
        "patchSetId": 2
      },
      "lineNbr": 502,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "You are right! Thanks for catching.",
      "parentUuid": "563f6da2_d1c5f53a",
      "range": {
        "startLine": 502,
        "startChar": 4,
        "endLine": 502,
        "endChar": 51
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59495f21_2e72e096",
        "filename": "scripts/localization/utils/localization_utils.js",
        "patchSetId": 2
      },
      "lineNbr": 413,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "Just to clarify my understanding: There is no use-site yet for {isLocalizationV2Call} besides the test but they will be added in future CLs?",
      "range": {
        "startLine": 413,
        "startChar": 2,
        "endLine": 413,
        "endChar": 22
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8d33cfc_8699e95e",
        "filename": "scripts/localization/utils/localization_utils.js",
        "patchSetId": 2
      },
      "lineNbr": 413,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "I made this call only to test the three calls in it without exporting them separately {isNodeDeclaresUIStrings(node), isNodeGetFormatLocalizedStringCall(node), isNodeGetLocalizedStringCall(node)}. If exporting them and not make an unused call is suggested, I can update this too.",
      "parentUuid": "59495f21_2e72e096",
      "range": {
        "startLine": 413,
        "startChar": 2,
        "endLine": 413,
        "endChar": 22
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c74ae63_c3c40413",
        "filename": "scripts/localization/utils/localization_utils.js",
        "patchSetId": 2
      },
      "lineNbr": 413,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-15T06:40:11Z",
      "side": 1,
      "message": "In that case I suggest we simply add a comment to {isLocalizationV2Call} saying explicitly that its a test helper.",
      "parentUuid": "d8d33cfc_8699e95e",
      "range": {
        "startLine": 413,
        "startChar": 2,
        "endLine": 413,
        "endChar": 22
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a55ea9af_eeb36ffb",
        "filename": "scripts/localization/utils/tests/localization_utils_test.js",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2020-06-10T05:39:57Z",
      "side": 1,
      "message": "Lets add a negative test case. isLocalizationV2Call should return false for V1 call-sites (e.g. ls``).",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 47,
        "endChar": 40
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eba1a2a6_a246cae5",
        "filename": "scripts/localization/utils/tests/localization_utils_test.js",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1341658
      },
      "writtenOn": "2020-06-11T07:38:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a55ea9af_eeb36ffb",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 47,
        "endChar": 40
      },
      "revId": "70e2ea560d2b7f76ec1a31dbef27cce022275e00",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}