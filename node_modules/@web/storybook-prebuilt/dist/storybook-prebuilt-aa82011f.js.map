{"version":3,"file":"storybook-prebuilt-aa82011f.js","sources":["../node_modules/@storybook/channels/dist/esm/index.js"],"sourcesContent":["import \"core-js/modules/es.object.freeze.js\";\n\nvar _templateObject;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/web.immediate.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport deprecate from 'util-deprecate';\nimport dedent from 'ts-dedent';\n\nvar generateRandomId = function generateRandomId() {\n  // generates a random 13 character string\n  return Math.random().toString(16).slice(2);\n};\n\nexport var Channel = /*#__PURE__*/function () {\n  function Channel() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        transport = _ref.transport,\n        _ref$async = _ref.async,\n        async = _ref$async === void 0 ? false : _ref$async;\n\n    _classCallCheck(this, Channel);\n\n    this.isAsync = void 0;\n    this.sender = generateRandomId();\n    this.events = {};\n    this.data = {};\n    this.transport = void 0;\n    this.addPeerListener = deprecate(function (eventName, listener) {\n      _this.addListener(eventName, listener);\n    }, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      channel.addPeerListener is deprecated\\n    \"]))));\n    this.isAsync = async;\n\n    if (transport) {\n      this.transport = transport;\n      this.transport.setHandler(function (event) {\n        return _this.handleEvent(event);\n      });\n    }\n  }\n\n  _createClass(Channel, [{\n    key: \"hasTransport\",\n    get: function get() {\n      return !!this.transport;\n    }\n  }, {\n    key: \"addListener\",\n    value: function addListener(eventName, listener) {\n      this.events[eventName] = this.events[eventName] || [];\n      this.events[eventName].push(listener);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var event = {\n        type: eventName,\n        args: args,\n        from: this.sender\n      };\n      var options = {};\n\n      if (args.length >= 1 && args[0] && args[0].options) {\n        options = args[0].options;\n      }\n\n      var handler = function handler() {\n        if (_this2.transport) {\n          _this2.transport.send(event, options);\n        }\n\n        _this2.handleEvent(event);\n      };\n\n      if (this.isAsync) {\n        // todo I'm not sure how to test this\n        setImmediate(handler);\n      } else {\n        handler();\n      }\n    }\n  }, {\n    key: \"last\",\n    value: function last(eventName) {\n      return this.data[eventName];\n    }\n  }, {\n    key: \"eventNames\",\n    value: function eventNames() {\n      return Object.keys(this.events);\n    }\n  }, {\n    key: \"listenerCount\",\n    value: function listenerCount(eventName) {\n      var listeners = this.listeners(eventName);\n      return listeners ? listeners.length : 0;\n    }\n  }, {\n    key: \"listeners\",\n    value: function listeners(eventName) {\n      var listeners = this.events[eventName];\n      return listeners || undefined;\n    }\n  }, {\n    key: \"once\",\n    value: function once(eventName, listener) {\n      var onceListener = this.onceListener(eventName, listener);\n      this.addListener(eventName, onceListener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function removeAllListeners(eventName) {\n      if (!eventName) {\n        this.events = {};\n      } else if (this.events[eventName]) {\n        delete this.events[eventName];\n      }\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(eventName, listener) {\n      var listeners = this.listeners(eventName);\n\n      if (listeners) {\n        this.events[eventName] = listeners.filter(function (l) {\n          return l !== listener;\n        });\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, listener) {\n      this.addListener(eventName, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, listener) {\n      this.removeListener(eventName, listener);\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var listeners = this.listeners(event.type);\n\n      if (listeners && listeners.length) {\n        listeners.forEach(function (fn) {\n          fn.apply(event, event.args);\n        });\n      }\n\n      this.data[event.type] = event.args;\n    }\n  }, {\n    key: \"onceListener\",\n    value: function onceListener(eventName, listener) {\n      var _this3 = this;\n\n      var onceListener = function onceListener() {\n        _this3.removeListener(eventName, onceListener);\n\n        return listener.apply(void 0, arguments);\n      };\n\n      return onceListener;\n    }\n  }]);\n\n  return Channel;\n}();\nexport default Channel;"],"names":["_templateObject","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Channel","strings","raw","_this","this","_ref","arguments","undefined","transport","_ref$async","async","instance","Constructor","TypeError","_classCallCheck","isAsync","sender","Math","random","toString","slice","events","data","addPeerListener","deprecate","eventName","listener","addListener","dedent","freeze","defineProperties","value","setHandler","event","handleEvent","protoProps","staticProps","get","push","_this2","_len","args","Array","_key","type","from","options","handler","send","setImmediate","keys","listeners","onceListener","filter","l","removeListener","forEach","fn","apply","_this3","prototype"],"mappings":"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"}