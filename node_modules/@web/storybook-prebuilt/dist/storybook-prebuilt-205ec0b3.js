import{w as e,l as t}from"./storybook-prebuilt-621ad26e.js";import{c as r,F as n,U as o,R as a,d as i}from"./storybook-prebuilt-7b9e8f8a.js";import{a as u}from"./storybook-prebuilt-4c5f0027.js";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=e.window,v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hookListsMap=void 0,this.mountedDecorators=void 0,this.prevMountedDecorators=void 0,this.currentHooks=void 0,this.nextHookIndex=void 0,this.currentPhase=void 0,this.currentEffects=void 0,this.prevEffects=void 0,this.currentDecoratorName=void 0,this.hasUpdates=void 0,this.currentContext=void 0,this.renderListener=function(e){e===t.currentContext.id&&(t.triggerEffects(),t.currentContext=null,t.removeRenderListeners())},this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.hookListsMap=new WeakMap,this.mountedDecorators=new Set,this.prevMountedDecorators=this.mountedDecorators,this.currentHooks=[],this.nextHookIndex=0,this.currentPhase="NONE",this.currentEffects=[],this.prevEffects=[],this.currentDecoratorName=null,this.hasUpdates=!1,this.currentContext=null}},{key:"clean",value:function(){this.prevEffects.forEach((function(e){e.destroy&&e.destroy()})),this.init(),this.removeRenderListeners()}},{key:"getNextHook",value:function(){var e=this.currentHooks[this.nextHookIndex];return this.nextHookIndex+=1,e}},{key:"triggerEffects",value:function(){var e=this;this.prevEffects.forEach((function(t){!e.currentEffects.includes(t)&&t.destroy&&t.destroy()})),this.currentEffects.forEach((function(t){e.prevEffects.includes(t)||(t.destroy=t.create())})),this.prevEffects=this.currentEffects,this.currentEffects=[]}},{key:"addRenderListeners",value:function(){this.removeRenderListeners(),u.getChannel().on(r,this.renderListener)}},{key:"removeRenderListeners",value:function(){u.getChannel().removeListener(r,this.renderListener)}}])&&h(t.prototype,n),o&&h(t,o),e}();function p(e){return function(){var t=("function"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0]).hooks,r=t.currentPhase,n=t.currentHooks,o=t.nextHookIndex,a=t.currentDecoratorName;t.currentDecoratorName=e.name,t.prevMountedDecorators.has(e)?(t.currentPhase="UPDATE",t.currentHooks=t.hookListsMap.get(e)||[]):(t.currentPhase="MOUNT",t.currentHooks=[],t.hookListsMap.set(e,t.currentHooks),t.prevMountedDecorators.add(e)),t.nextHookIndex=0;var i=l.STORYBOOK_HOOKS_CONTEXT;l.STORYBOOK_HOOKS_CONTEXT=t;var u=e.apply(void 0,arguments);if(l.STORYBOOK_HOOKS_CONTEXT=i,"UPDATE"===t.currentPhase&&null!=t.getNextHook())throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return t.currentPhase=r,t.currentHooks=n,t.nextHookIndex=o,t.currentDecoratorName=a,u}}var m=0,y=function(e){return function(t,r){var n=e(p(t),r.map((function(e){return p(e)})));return function(e){var o=e.hooks;o.prevMountedDecorators=o.mountedDecorators,o.mountedDecorators=new Set([t].concat(c(r))),o.currentContext=e,o.hasUpdates=!1;var a=n(e);for(m=1;o.hasUpdates;)if(o.hasUpdates=!1,o.currentEffects=[],a=n(e),(m+=1)>25)throw new Error("Too many re-renders. Storybook limits the number of renders to prevent an infinite loop.");return o.addRenderListeners(),a}}},b=function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},g=function(){return new Error("Storybook preview hooks can only be called inside decorators and story functions.")};function k(){return l.STORYBOOK_HOOKS_CONTEXT||null}function E(){var e=k();if(null==e)throw g();return e}function w(e,r,n){var o=function(e,r,n){var o=E();if("MOUNT"===o.currentPhase){null==n||Array.isArray(n)||t.warn("".concat(e," received a final argument that is not an array (instead, received ").concat(n,"). When specified, the final argument must be an array."));var a={name:e,deps:n};return o.currentHooks.push(a),r(a),a}if("UPDATE"===o.currentPhase){var i=o.getNextHook();if(null==i)throw new Error("Rendered more hooks than during the previous render.");return i.name!==e&&t.warn("Storybook has detected a change in the order of Hooks".concat(o.currentDecoratorName?" called by ".concat(o.currentDecoratorName):"",". This will lead to bugs and errors if not fixed.")),null!=n&&null==i.deps&&t.warn("".concat(e," received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.")),null!=n&&null!=i.deps&&n.length!==i.deps.length&&t.warn("The final argument passed to ".concat(e," changed size between renders. The order and size of this array must remain constant.\nPrevious: ").concat(i.deps,"\nIncoming: ").concat(n)),null!=n&&null!=i.deps&&b(n,i.deps)||(r(i),i.deps=n),i}throw g()}(e,(function(e){e.memoizedState=r()}),n);return o.memoizedState}function O(e,t){return w("useMemo",e,t)}function x(e,t){return w("useCallback",(function(){return e}),t)}function S(e,t){return w(e,(function(){return{current:t}}),[])}function H(e){return S("useRef",e)}function T(e,r){var o=S(e,"function"==typeof r?r():r);return[o.current,function(e){o.current="function"==typeof e?e(o.current):e,function(){var e=k();if(null!=e&&"NONE"!==e.currentPhase)e.hasUpdates=!0;else try{u.getChannel().emit(n)}catch(e){t.warn("State updates of Storybook preview hooks work only in browser")}}()}]}function N(e){return T("useState",e)}function D(e,t,r){var n=s(T("useReducer",null!=r?function(){return r(t)}:t),2),o=n[0],a=n[1];return[o,function(t){return a((function(r){return e(r,t)}))}]}function C(e,t){var r=E(),n=w("useEffect",(function(){return{create:e}}),t);r.currentEffects.includes(n)||r.currentEffects.push(n)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=u.getChannel();return C((function(){return Object.entries(e).forEach((function(e){var t=s(e,2),n=t[0],o=t[1];return r.on(n,o)})),function(){Object.entries(e).forEach((function(e){var t=s(e,2),n=t[0],o=t[1];return r.removeListener(n,o)}))}}),[].concat(c(Object.keys(e)),c(t))),x(r.emit.bind(r),[r])}function I(){var e=E().currentContext;if(null==e)throw g();return e}function L(e,t){var r=I().parameters;if(e)return r[e]||t}function P(){var e=u.getChannel(),t=I(),r=t.id;return[t.args,x((function(t){return e.emit(o,{storyId:r,updatedArgs:t})}),[e,r]),x((function(t){return e.emit(a,{storyId:r,argNames:t})}),[e,r])]}function R(){var e=u.getChannel();return[I().globals,x((function(t){return e.emit(i,{globals:t})}),[e])]}export{v as H,y as a,x as b,H as c,N as d,D as e,C as f,A as g,I as h,L as i,P as j,R as k,O as u};
//# sourceMappingURL=storybook-prebuilt-205ec0b3.js.map
