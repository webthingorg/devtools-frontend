{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a5672907_502c8262",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-26T23:04:46Z",
      "side": 1,
      "message": "some thoughtsâ€¦",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30001267_5f01355e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-08-29T07:44:25Z",
      "side": 1,
      "message": "LGTM thanks for updating it and fixing the issue!",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0fc4b16_b1b63346",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-26T23:04:46Z",
      "side": 1,
      "message": "Made a diff between current dtinternal and this one.. https://diff.googleplex.com/#key\u003dQ3eKT6DZey2L",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "205927f1_6495bd70",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:54:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d0fc4b16_b1b63346",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b108f7e_32b0821b",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-26T23:04:46Z",
      "side": 1,
      "message": "The impl does technically attach to the, but if this is false, then it\u0027ll quickly do `Runtime.runIfWaitingForDebugger` and then `Target.detachFromTarget`\n\nI\u0027m not strongly proposing it\u0027s worth renaming this to `shouldRemainAttachedToTarget` ... but... at the very least, the subtlety is worth noting.",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54dc53a7_bbaebe4f",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-08-29T07:44:25Z",
      "side": 1,
      "message": "I think it\u0027s okay to keep the current name if we consider the state of being attached to Puppeteer to be different from the state of being attached to a CDP session. While it\u0027s true that that Puppeteer detaches CDP sessions not matching the filter, for the users of Puppeteer this should not be observable (unless reaching into internals or debug logs) and the target is only available via `browser.targets()` if it is allowed by the filter.",
      "parentUuid": "0b108f7e_32b0821b",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fdece52e_2d1ca5d7",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:54:01Z",
      "side": 1,
      "message": "I\u0027m inheriting the `targetFilterCallback` name directly from puppeteer because it\u0027s getting passed directly into that field now.",
      "parentUuid": "54dc53a7_bbaebe4f",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5230662b_67817587",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-26T23:04:46Z",
      "side": 1,
      "message": "It\u0027d be a problem if this were stricter than https://github.com/GoogleChrome/lighthouse/blob/1482e99e48815d0ea2e126897e0d4865da0e80a2/core/gather/driver/target-manager.js#L100-L104\n\nI don\u0027t see a reason why it would be. But I think we feel confident our test coverage would catch this.",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2187a9b9_6f5bc3d2",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-08-29T07:44:25Z",
      "side": 1,
      "message": "WDYT about making this filter customizable for the clients of PuppeteerConnectionHelper? It might happen that there is a need to customize it based on Lighthouse or Recorder requirements.",
      "parentUuid": "5230662b_67817587",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b932ad4_e99ed414",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-29T18:33:15Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s necessary. TBH the more we share in target mgmt, the better. \nLet\u0027s only pursue making it customizable if we need to.",
      "parentUuid": "2187a9b9_6f5bc3d2",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7249874_12c74e69",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:54:01Z",
      "side": 1,
      "message": "I\u0027ve made this customizable, and used `() \u003d\u003e true` as the filter for Lighthouse. This is so we can defer to Lighthouse on which targets are \"important\".",
      "parentUuid": "2187a9b9_6f5bc3d2",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30d7ea3f_e4a16c7d",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:57:49Z",
      "side": 1,
      "message": "Oops didn\u0027t see paul\u0027s comment. Would attaching to extensions be useful for LH since we issue a warning if extensions affect the page?",
      "parentUuid": "e7249874_12c74e69",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b07fc065_c87ee140",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2022-08-29T07:44:25Z",
      "side": 1,
      "message": "Should we make this customizable as well? I also wonder if Lighthouse needs to connect to the DevTools targets?",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa243e4c_d9756e6e",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-29T18:33:15Z",
      "side": 1,
      "message": "LH doesn\u0027t need to connect to DT targets, but I don\u0027t _think_ it\u0027s a problem if we do. Adam, can you verify?",
      "parentUuid": "b07fc065_c87ee140",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32aef026_f3bdf972",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:54:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b07fc065_c87ee140",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb03904c_f155ae01",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:57:49Z",
      "side": 1,
      "message": "TBH I don\u0027t think it matters. This is to determine which targets get listed under `browser.pages()` IIUC.",
      "parentUuid": "32aef026_f3bdf972",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "adf0531a_79c5b4be",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-26T23:04:46Z",
      "side": 1,
      "message": "maybe worth renaming the function at this point, as we\u0027re not returning a connectionâ€¦\n\n(side note. it\u0027s also wild that the dtinternal function was returning the parallelConnection rather than the puppeteerConnection from this function.)",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "df12dfe9_1062d7f3",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:54:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "adf0531a_79c5b4be",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db8dd2dc_0392d5fe",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2022-08-26T23:04:46Z",
      "side": 1,
      "message": "s/user/use/  ?",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4aba4667_e9915ba6",
        "filename": "front_end/services/puppeteer/PuppeteerConnection.ts",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1534302
      },
      "writtenOn": "2022-08-29T18:54:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db8dd2dc_0392d5fe",
      "revId": "bd4ffdff13bd3b4c0e2a6f86c997e408f1978f03",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}