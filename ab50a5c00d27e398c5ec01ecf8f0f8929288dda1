{
  "comments": [
    {
      "key": {
        "uuid": "82ba1433_e5724ba0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1422938
      },
      "writtenOn": "2020-07-17T03:11:10Z",
      "side": 1,
      "message": "Responded to Patrick\u0027s feedback",
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42efca85_07ed6207",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1422938
      },
      "writtenOn": "2020-07-17T17:29:46Z",
      "side": 1,
      "message": "Just a few things about what I\u0027ll be updating today, in addition to the typos/other small stuff Patrick mentioned",
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b647efd_7fc9eb7d",
        "filename": "front_end/inspector_overlay/tool_source_order.js",
        "patchSetId": 9
      },
      "lineNbr": 23,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T08:57:24Z",
      "side": 1,
      "message": "I don\u0027t remember for sure, but I don\u0027t think Consolas is available on all OSes. I think you might want to go \"Menlo, Consolas, monospace\" to be safe.",
      "range": {
        "startLine": 23,
        "startChar": 17,
        "endLine": 23,
        "endChar": 25
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d6f81cf_8542081e",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 46,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T08:57:24Z",
      "side": 1,
      "message": "typo: this should probably be \"borders\"",
      "range": {
        "startLine": 46,
        "startChar": 20,
        "endLine": 46,
        "endChar": 27
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4f8c7f7_49fb5406",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 62,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T08:57:24Z",
      "side": 1,
      "message": "Why is there not a `bottomCorner: \u0027bottom-corner\u0027` item in this list?\nThe documentation above says that this is a common case that happens. Yet in the code below, I don\u0027t see it being used. Why is the label always either wider or taller (or both) when its in the bottom corner of the element?",
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b03d596d_740239d8",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 62,
      "author": {
        "id": 1422938
      },
      "writtenOn": "2020-07-17T17:29:46Z",
      "side": 1,
      "message": "It\u0027s because placing the label in the bottom corner is sort of a last-resort case: only if the label is wider/taller than the element, there is another label that overlaps with where the label would be if it was placed above the element, and if the label would overlap with the bottom of the window if placed below the element. I\u0027ll summarize this in the documentation and add more ACII art examples.",
      "parentUuid": "e4f8c7f7_49fb5406",
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25ba58b2_a24b8255",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 124,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T08:57:24Z",
      "side": 1,
      "message": "We usually try to avoid having numbers like this in the code. These are called magic numbers, as it\u0027s hard to know why they\u0027re a certain value.\nTo make this clearer, it\u0027s usually preferred to add a constant at the top of the file, with a self-explanatory name, and some comment. something like this:\n\n  // If there is a large number of child elements, labels always go on top, because ... blah\n  const MAX_CHILD_ELEMENTS_THRESHOLD \u003d 1000;\n\nAnd then you just use this named constant here in the code.",
      "range": {
        "startLine": 124,
        "startChar": 73,
        "endLine": 124,
        "endChar": 77
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f10d7f14_e7793f27",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 124,
      "author": {
        "id": 1422938
      },
      "writtenOn": "2020-07-17T17:29:46Z",
      "side": 1,
      "message": "Ok, makes sense! I\u0027ll update this.",
      "parentUuid": "25ba58b2_a24b8255",
      "range": {
        "startLine": 124,
        "startChar": 73,
        "endLine": 124,
        "endChar": 77
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a500c4ac_1493babb",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 133,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T08:57:24Z",
      "side": 1,
      "message": "Is the 1000 threshold in place to avoid doing this? If so, I agree this is a good idea, as this access to getBoundingClientRect forces a synchronous reflow of the page, which is costly.\nDid you run some tests with different thresholds, to see when the overlay starts becoming slow?\nI know the CSS grid overlay, when the grid is huge, takes a long time to appear. So it\u0027d be good to fine tune the threshold to make sure the source order viewer is always fast.\nThis can be done later!",
      "range": {
        "startLine": 133,
        "startChar": 17,
        "endLine": 133,
        "endChar": 53
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c5a4137_f5279e90",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 133,
      "author": {
        "id": 1422938
      },
      "writtenOn": "2020-07-17T17:29:46Z",
      "side": 1,
      "message": "Yes, that\u0027s what it\u0027s for. I did test out a few different thresholds, and it takes about a second to draw everything with a threshold of 1000. I think I will fine tune it some more to see if there\u0027s a better one.",
      "parentUuid": "a500c4ac_1493babb",
      "range": {
        "startLine": 133,
        "startChar": 17,
        "endLine": 133,
        "endChar": 53
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "685d16e5_bcf80a7c",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 133,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T20:36:01Z",
      "side": 1,
      "message": "Sounds good! Also it\u0027s worth noting that we usually use much more powerful machines than our average users. So what feels like 1 sec for you might feel very laggy to somebody else. So I think we should shoot for something that feels instant to you. \nThat said, don\u0027t worry too much about this at this stage, we can do this later if there is indeed a known perf problem.",
      "parentUuid": "4c5a4137_f5279e90",
      "range": {
        "startLine": 133,
        "startChar": 17,
        "endLine": 133,
        "endChar": 53
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed3d53fa_b0d4e084",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 133,
      "author": {
        "id": 1341877
      },
      "writtenOn": "2020-07-24T19:28:01Z",
      "side": 1,
      "message": "Olivia, will you keep this functionality and address calling `getBoundingClientRect` if you find a perf issue?",
      "parentUuid": "685d16e5_bcf80a7c",
      "range": {
        "startLine": 133,
        "startChar": 17,
        "endLine": 133,
        "endChar": 53
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fb2a314_f503a982",
        "filename": "front_end/inspector_overlay/tool_source_order_impl.js",
        "patchSetId": 9
      },
      "lineNbr": 168,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-07-17T08:57:24Z",
      "side": 1,
      "message": "So I think this is where we miss a case where the label is neither taller nor wider. Here it will always be considered as taller, even if it\u0027s not.\nSo you need to add a new label type: LabelTypes.bottomCorner",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 168,
        "endChar": 5
      },
      "revId": "ab50a5c00d27e398c5ec01ecf8f0f8929288dda1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}