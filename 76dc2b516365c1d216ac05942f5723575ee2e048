{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "461932d4_bb50945d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1554938
      },
      "writtenOn": "2023-11-16T20:36:18Z",
      "side": 1,
      "message": "PTAL at the latest revision to adapt to new trace engine and let me know what you think. Seems like `RendererHandler.ts` might fit better than `WorkerHandler.ts` since postMessages can happen on iframes and other non-worker contexts as well but open to thoughts on this.\n\nAre there any plans to migrate the `EventOnTimeline` class out of `TimelineModel.ts`? I currently import this class to create the relationship in the handler since this is being used elsewhere in the initiator logic.\n\nI also noticed there seems to be bug to support showing the arrow lines for events coming from the new engine? \n[crbug.com/1434596](`https://chromium.googlesource.com/devtools/devtools-frontend/+/refs/heads/main/front_end/panels/timeline/TimelineFlameChartDataProvider.ts#1424`)\n\nThe initiator info still shows up in the details page but not the arrow lines.",
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5683e652_0c6b6c2c",
        "filename": "front_end/models/trace/handlers/RendererHandler.ts",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2023-11-17T12:39:22Z",
      "side": 1,
      "message": "we should instead update the data() function so it returns the information we need to link these events - and we do not want to rely on EventOnTimelineData in the handlers.\n\nThe idea of models/trace that it is standalone and should eventually replace the old timeline_model, so we cannot rely on it in here.\n\nI appreciate this is frustrating give the current setup; I am working right now on the initiator support in the new engine, which I hope might make this easier, but it\u0027s not yet ready to land.",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 77
      },
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "439ad0c0_c54dede6",
        "filename": "front_end/models/trace/handlers/RendererHandler.ts",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1554938
      },
      "writtenOn": "2023-11-17T17:32:33Z",
      "side": 1,
      "message": "Thanks. How should the information for linking the events look like/be structured? A map of handlerEvents -\u003e initiatorEvents? Do you have a draft CL for the initiator support I could take a look at?",
      "parentUuid": "5683e652_0c6b6c2c",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 77
      },
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9d10b73_f7adc425",
        "filename": "front_end/models/trace/handlers/RendererHandler.ts",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2023-11-21T08:40:53Z",
      "side": 1,
      "message": "I just landed the first version of the InitiatorsHandler: crrev.com/c/5040795 which should give you an idea of the approach.",
      "parentUuid": "439ad0c0_c54dede6",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 77
      },
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "894b7709_ff690e17",
        "filename": "front_end/models/trace/handlers/RendererHandler.ts",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1554938
      },
      "writtenOn": "2023-11-22T20:45:11Z",
      "side": 1,
      "message": "Thanks, this helps a lot! I like the idea of extracting this into a separate handler. I\u0027ve updated the CL accordingly. \n\nI noticed, currently this data doesn\u0027t modify any UI for initiators. It\u0027s only used in tests at the moment. Are there any future plans to update the UI to leverage this data and what\u0027s the rough timeline for this?",
      "parentUuid": "b9d10b73_f7adc425",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 77
      },
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66dbe64f_97dbcd13",
        "filename": "front_end/models/trace/handlers/RendererHandler.ts",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2023-11-23T10:54:05Z",
      "side": 1,
      "message": "I am hoping to get to the UI side of this work either this week or most likely next week and have the arrows drawn based on data from the InitiatorHandler",
      "parentUuid": "894b7709_ff690e17",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 77
      },
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccd41582_ab332a4c",
        "filename": "front_end/models/trace/handlers/RendererHandler.ts",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1554938
      },
      "writtenOn": "2023-11-27T17:51:24Z",
      "side": 1,
      "message": "Thanks! Please keep me posted",
      "parentUuid": "66dbe64f_97dbcd13",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 166,
        "endChar": 77
      },
      "revId": "76dc2b516365c1d216ac05942f5723575ee2e048",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}