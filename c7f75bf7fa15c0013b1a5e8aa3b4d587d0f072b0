{
  "comments": [
    {
      "key": {
        "uuid": "a57e3a71_dc4b3a34",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1341669
      },
      "writtenOn": "2020-08-05T15:48:47Z",
      "side": 1,
      "message": "Still going through the comments and code, but have two functionality questions:\n\n1) Looks like we have the ability to change the grid settings from this new pane and the existing point in settings. Should we remove the settings page as part of this? or do a follow up?\n2) When changing the options with a persistent overlay active, nothing happens. I feel like we should update the persistent overlay to resend the command every time the settings change. wdyt?",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "143a9387_eb98c057",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2020-08-06T06:26:00Z",
      "side": 1,
      "message": "I\u0027d keep the global settings as well to see what people use more. I\u0027d do the overlay specific integration as a follow-up (CL is already too big).",
      "parentUuid": "a57e3a71_dc4b3a34",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fcc5c939_2447153d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-08-06T07:46:10Z",
      "side": 1,
      "message": "Agreed 100% in keeping this CL small. It\u0027s great foundational work, and we can add to the panel in follow-ups. This is all behind the experiment.\n\nRegarding the global settings vs. the new ones: I think it\u0027s fairly obvious that the new layout panel is going to be way more discoverable than the global settings. I think we added them as a way for to surface our work in progress more easily, and make it possible to do user testing with. But they were never going to stay there anyway. So, I think we could remove them straight away, and just keep the new settings in the layout panel. But again, this could be a follow-up.",
      "parentUuid": "143a9387_eb98c057",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90a67063_5aab7a28",
        "filename": "front_end/elements/LayoutPane.ts",
        "patchSetId": 16
      },
      "lineNbr": 105,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2020-08-05T12:53:03Z",
      "side": 1,
      "message": "I think we\u0027d like to keep these two worlds separate and not use the legacy core styles injection. Could we use adoptedStylesheets to achieve this? As that\u0027s likely a big part of the longer term solution.",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce338c47_d3250950",
        "filename": "front_end/elements/LayoutPane.ts",
        "patchSetId": 16
      },
      "lineNbr": 105,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2020-08-05T12:54:33Z",
      "side": 1,
      "message": "Sorry, don\u0027t think that comment is as clear as I\u0027d like. We definitely want to keep the new and old worlds separate ( with the exception of the bridge file ) so I think we should use adoptedStylesheets here (however works best) and we (LON) will prioritise figuring out the long term plan ASAP.",
      "parentUuid": "90a67063_5aab7a28",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "771d0c36_a01e2b38",
        "filename": "front_end/elements/LayoutPane.ts",
        "patchSetId": 16
      },
      "lineNbr": 105,
      "author": {
        "id": 1380460
      },
      "writtenOn": "2020-08-05T13:01:03Z",
      "side": 1,
      "message": "I think the main advantage `injectCoreStyles` provides is the underlying `self.Runtime.cachedResources`. If we could find a way to implement/work around that, then I think moving away from the `UI.Utils` dependency is definitely better.",
      "parentUuid": "ce338c47_d3250950",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1695b4e_7dfef999",
        "filename": "front_end/elements/LayoutPane.ts",
        "patchSetId": 16
      },
      "lineNbr": 105,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2020-08-06T06:27:46Z",
      "side": 1,
      "message": "I have implemented a workaround PTAL. I don\u0027t think using adoptedStylesheets would require more refactoring if we don\u0027t want to create them on every render, so I went for style tags.",
      "parentUuid": "771d0c36_a01e2b38",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5261e8ed_aa665867",
        "filename": "front_end/elements/LayoutPane.ts",
        "patchSetId": 16
      },
      "lineNbr": 105,
      "author": {
        "id": 1380460
      },
      "writtenOn": "2020-08-06T07:36:04Z",
      "side": 1,
      "message": "I feel like it would be beneficial to include a separate API just for setting (adopting if we use adoptedStyleSheet) stylesheets on the element. This way we can set the common stylesheets separately, and we don\u0027t have to keep a reference to the stylesheet from the component\u0027s call site each time we want to set its data to re-render. And I feel like the component\u0027s stylesheet may not traditionally be a component\u0027s `data`. The fact that it is something we have to render from the component\u0027s `data` is incidental and mostly due to our legacy world. So maybe something like:\n```\nadoptStylesheets(stylesheets: CSSStyleSheet[])\n```\ncould be useful?",
      "parentUuid": "e1695b4e_7dfef999",
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ae01bb4_666fafbc",
        "filename": "front_end/elements/LayoutSidebarPane.js",
        "patchSetId": 16
      },
      "lineNbr": 46,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-08-05T13:08:19Z",
      "side": 1,
      "message": "I don\u0027t know where it would be best to do this, but the latest design spec shows custom controls for configuring dashed vs. solid vs. transparent lines. It has nice little icons that really do help visually.\nPassing in the setting type here means we can\u0027t do that. I think it would be good to introduce another level here between getting the settings and send them to the view layer. This level would take care of constructing the right types so we can then display those icons in the ui layer.\n\nDoing this as a separate CL is better though. This first foundational CL is great to get a panel going and then we can build on it iteratively.",
      "range": {
        "startLine": 46,
        "startChar": 24,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37b3eb96_1908fa1e",
        "filename": "front_end/elements/LayoutSidebarPane.js",
        "patchSetId": 16
      },
      "lineNbr": 46,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2020-08-05T15:45:16Z",
      "side": 1,
      "message": "Right, I think we adding icons we should also consider if we define them on the settings level so that we can surface them in other places, e.g. in the Ctrl + P search box. Also, I didn\u0027t start building custom UI because I don\u0027t think we have a final set of settings already and building a generic component with icons would require more efforts.",
      "parentUuid": "0ae01bb4_666fafbc",
      "range": {
        "startLine": 46,
        "startChar": 24,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19b5cf8a_64cb911e",
        "filename": "front_end/elements/LayoutSidebarPane.js",
        "patchSetId": 16
      },
      "lineNbr": 46,
      "author": {
        "id": 1419317
      },
      "writtenOn": "2020-08-06T07:46:10Z",
      "side": 1,
      "message": "Sure, let\u0027s make sure we have the final set of settings and implement this later. Just something to keep in mind.\nIn terms of where to do this, I think this makes probably more sense in the component itself. As far as its concerned, the setting is still just an enum, it shouldn\u0027t really care whether it\u0027s being displayed as a drop-down or toggle icons, or something else. wdyt?",
      "parentUuid": "37b3eb96_1908fa1e",
      "range": {
        "startLine": 46,
        "startChar": 24,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5829b3b_253ebd50",
        "filename": "scripts/eslint_rules/tests/es_modules_import_test.js",
        "patchSetId": 16
      },
      "lineNbr": 66,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2020-08-05T12:46:21Z",
      "side": 1,
      "message": "why this addition?",
      "range": {
        "startLine": 64,
        "startChar": 3,
        "endLine": 66,
        "endChar": 6
      },
      "revId": "c7f75bf7fa15c0013b1a5e8aa3b4d587d0f072b0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}