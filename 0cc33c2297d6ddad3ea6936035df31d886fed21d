{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "90fd8839_735f0781",
        "filename": "front_end/ui/legacy/components/perf_ui/FlameChart.ts",
        "patchSetId": 4
      },
      "lineNbr": 1080,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2023-04-18T12:06:08Z",
      "side": 1,
      "message": "@andoli would love your thoughts on this - that CL you mentioned earlier where we remove group.tracks and supply that data through the appender is likely relevant.\n\nI think perhaps we need to pass the appender system into the FlameChart component, maybe? \n\nOr we do something in the appenders that allow them to mark an event as annotated perhaps, rather than have the flame chart able to find events from a specific track.",
      "range": {
        "startLine": 1080,
        "startChar": 0,
        "endLine": 1080,
        "endChar": 222
      },
      "revId": "0cc33c2297d6ddad3ea6936035df31d886fed21d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f1beb65_59fc6ad9",
        "filename": "front_end/ui/legacy/components/perf_ui/FlameChart.ts",
        "patchSetId": 4
      },
      "lineNbr": 1080,
      "author": {
        "id": 1447167
      },
      "writtenOn": "2023-04-18T12:45:07Z",
      "side": 1,
      "message": "Unfortunately, the CL I mentioned missed this dependency to the legacy track, it only accounted for the references to the property in the details pane.\n\nI think it\u0027s better if we don\u0027t reference the appender system here to keep this class generic (it might also generate a dep circle).\n\nA possible option I think of is introducing a new array in `TimelineData`, where each item `i` contains the amount of time that should have the candy stripe mask, if any (i.e. the time where the defined threshold was exceeded). We would set the values in the corresponding track appender and here we would draw the candy stripe from the event\u0027s end. As a side win we would only need a `drawCandyStripes` method here. WDYT?",
      "parentUuid": "90fd8839_735f0781",
      "range": {
        "startLine": 1080,
        "startChar": 0,
        "endLine": 1080,
        "endChar": 222
      },
      "revId": "0cc33c2297d6ddad3ea6936035df31d886fed21d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c56c63ab_11181784",
        "filename": "front_end/ui/legacy/components/perf_ui/FlameChart.ts",
        "patchSetId": 4
      },
      "lineNbr": 1080,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2023-04-18T13:07:10Z",
      "side": 1,
      "message": "Yeah agreed - I did have a quick hack of referencing the appender here and quickly hit upon the circular dep. I think TimelineData is the way to go here and agree. I also wonder if we make it more generic so it can store any form of annotations in?\n\ne.g.:\n\n```\nconst annotations \u003d [undefined, { annotate: \u0027candy\u0027, fromDuration: 200 }, { annotate: \u0027candy\u0027, fromDuration: 50 }, { annotate: \u0027warningTriangle\u0027 }]\n```\n\nSo that we don\u0027t end up having N arrays for N types of decoration, but one for all of them. WDYT? I will file a bug so we can keep track of this.",
      "parentUuid": "5f1beb65_59fc6ad9",
      "range": {
        "startLine": 1080,
        "startChar": 0,
        "endLine": 1080,
        "endChar": 222
      },
      "revId": "0cc33c2297d6ddad3ea6936035df31d886fed21d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba921185_5d0c3394",
        "filename": "front_end/ui/legacy/components/perf_ui/FlameChart.ts",
        "patchSetId": 4
      },
      "lineNbr": 1080,
      "author": {
        "id": 1447167
      },
      "writtenOn": "2023-04-18T13:08:35Z",
      "side": 1,
      "message": "sounds pretty solid to me!",
      "parentUuid": "c56c63ab_11181784",
      "range": {
        "startLine": 1080,
        "startChar": 0,
        "endLine": 1080,
        "endChar": 222
      },
      "revId": "0cc33c2297d6ddad3ea6936035df31d886fed21d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}