<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Overflow breadcrumbs example</title>

    <style>
      #container { width: 300px; border: 1px solid black; }
    </style>
  </head>
  <body>

    <div id="container"></div>

    <script type="module">
      import '../../elements/ElementsBreadcrumbs.js';

      const makeCrumb = (overrides = {}) => {
        const attributes = overrides.attributes || {};
        const newCrumb = {
          nodeType: Node.ELEMENT_NODE,
          id: 1,
          pseudoType: '',
          shadowRootType: '',
          nodeName: 'body',
          nodeNameNicelyCased: 'body',
          legacyDomNode: {},
          highlightNode: () => {},
          clearHighlight: () => {},
          getAttribute: x => attributes[x] || '',
          ...overrides,
        };
        return newCrumb;
      };

      const crumbsComponent = document.createElement('devtools-elements-breadcrumbs');

      const bodyCrumb = makeCrumb({
        nodeType: Node.ELEMENT_NODE,
        id: 2,
        nodeName: 'body',
        nodeNameNicelyCased: 'body',
      });

      const divCrumbs = Array.from({ length: 5 }, (_, index) => {
        return makeCrumb({
          nodeType: Node.ELEMENT_NODE,
          id: 3 + index,
          nodeName: 'div',
          nodeNameNicelyCased: 'div',
          attributes: {
            id: `test-id-${index}`,
          },
        });
      });


      crumbsComponent.data = {
        crumbs: [...divCrumbs, bodyCrumb],
        selectedNode: bodyCrumb,
      };

      document.getElementById('container').appendChild(crumbsComponent);
    </script>
  </body>
</html>
