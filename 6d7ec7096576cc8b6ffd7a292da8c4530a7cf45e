{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d6e883c8_adcfa072",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-08-02T00:57:49Z",
      "side": 1,
      "message": "AIUI, the revealer system allows us to load the timelinepanel on demand, based on an `instanceof` conditional. Using it means we don\u0027t need a hard module dependency. Our fancy meta files create these provider/revealer helpers that kinda do that dependency injection work for us. \n\nI made a class in SDK as we have nothing else in there that can `instanceof` as raw trace data.\n\nI\u0027m thinking this model will work for enhanced traces as well, where we have data we want to \u0027instantiate\u0027 the timeline panel with.. but don\u0027t want to set gn deps on directly.\n\nhows this feel to you jack?  i\u0027m fine if you want a MUC doublecheck on revealers.. my understanding of the system might be a tad dated.",
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0ef4097_18bb7d8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1378407
      },
      "writtenOn": "2024-08-02T20:48:37Z",
      "side": 1,
      "message": "Is there any behavior change here? Before Lighthouse panel could open a trace in the performance panel, and now it still does but in a better way, right? Any visible difference?",
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10ff527e_e3dd1e9b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-08-02T22:56:02Z",
      "side": 1,
      "message": "\u003e Is there any behavior change here? Before Lighthouse panel could open a trace in the performance panel, and now it still does but in a better way, right? Any visible difference?\n\nno behavior change. just using a better mechanism.",
      "parentUuid": "f0ef4097_18bb7d8c",
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ffcfdce_b8959aac",
        "filename": "front_end/core/sdk/CPUProfilerModel.ts",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1378407
      },
      "writtenOn": "2024-08-02T20:48:37Z",
      "side": 1,
      "message": "jw... why are imports moving around? is the formatter not applying to all files, or is there just not a format rule for import order (and this was a manual re-sorting by you)?",
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa7474c0_dd13dcb6",
        "filename": "front_end/core/sdk/CPUProfilerModel.ts",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-08-02T22:56:02Z",
      "side": 1,
      "message": "\u003e jw... why are imports moving around? is the formatter not applying to all files, or is there just not a format rule for import order (and this was a manual re-sorting by you)?\n\nwasnt me. was some lint/format rule.  i wish someone would do all of them all at once.. but.. its been like this for over a year.",
      "parentUuid": "4ffcfdce_b8959aac",
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b708d66e_fef09b5d",
        "filename": "front_end/core/sdk/CPUProfilerModel.ts",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1396442
      },
      "writtenOn": "2024-08-02T06:58:17Z",
      "side": 1,
      "message": "is there a reason you chose to put this here?\n\nI would have expected this to live somewhere else - probably models/trace ? And using those types?",
      "range": {
        "startLine": 186,
        "startChar": 0,
        "endLine": 193,
        "endChar": 1
      },
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4861dcf0_c15237a7",
        "filename": "front_end/core/sdk/CPUProfilerModel.ts",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1118499
      },
      "writtenOn": "2024-08-04T23:21:12Z",
      "side": 1,
      "message": "\u003e is there a reason you chose to put this here?\n\nI kinda suspected you wouldnt like it hanging off this guy. :p  Anyway I made a dedicated file in SDK for it.  Why SDK? read on..\n\n\u003e \n\u003e I would have expected this to live somewhere else - probably models/trace ? And using those types?\n\nIt\u0027s motivated by the build dependency tree. SDK is a core dependency and always there.\n\nCurrently Timeline is a build and runtime dependency for Lighthouse panel. That means if you do a `autoninja -C out/Release front_end/panels/lighthouse/` it will have to build all of Timeline \u0026 tracemodel first.  (Not a huge deal in reality but.. something.)   \n\nThere\u0027s also a runtime dependency... timeline.js and all its underlings must be loaded and evaluated to show the Lighthouse panel. \nWe do evaluate every module that\u0027s needed by our various panels/ everytime devtools loads.  So .... we can get improved startup time if more stuff is injected on demand.\n\nAfter this CL.. you can see the timeline and underlyings only get requested after clicking \u0027View Trace\u0027: https://imgur.com/q17TB7d (Release build + adjusted --custom-devtools-frontend path required to see this)",
      "parentUuid": "b708d66e_fef09b5d",
      "range": {
        "startLine": 186,
        "startChar": 0,
        "endLine": 193,
        "endChar": 1
      },
      "revId": "6d7ec7096576cc8b6ffd7a292da8c4530a7cf45e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}