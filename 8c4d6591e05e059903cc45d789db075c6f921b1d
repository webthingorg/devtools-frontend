{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4a8084ab_851f09d1",
        "filename": "third_party/typescript/typescript.gni",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2021-01-29T03:47:24Z",
      "side": 0,
      "message": "I just did some experiment locally. It seems that you need to use `defined(invoker.use_rbe) \u0026\u0026 invoker.use_rbe` here",
      "range": {
        "startLine": 137,
        "startChar": 4,
        "endLine": 137,
        "endChar": 36
      },
      "revId": "8c4d6591e05e059903cc45d789db075c6f921b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afdf6022_bd3a4285",
        "filename": "third_party/typescript/typescript.gni",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2021-01-29T07:45:10Z",
      "side": 0,
      "message": "I don\u0027t think so. See the comment below on line #139. The \"invoker.use_rbe\" flag is just a workaround for a single use-site of ts_library to manually disable RBE due to some unresolved DEPS shenanigans.\n\nThe \"use_rbe\" here should be the global Chromium GN args. That is, we want to enable RBE only if \"use_rbe\" and \"devtools_use_rbe\" GN args are true.\n\nThe actual fix is to duplicate the check:\n\n if (defined(use_rbe) \u0026\u0026 use_rbe \u0026\u0026 defined(devtools_use_rbe) \u0026\u0026 devtools_use_rbe)\n\nin \"devtools_entrypoint.gni\", so the flag doesn\u0027t go unused.\n\nThanks for investigating :)",
      "parentUuid": "4a8084ab_851f09d1",
      "range": {
        "startLine": 137,
        "startChar": 4,
        "endLine": 137,
        "endChar": 36
      },
      "revId": "8c4d6591e05e059903cc45d789db075c6f921b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84040adc_77901daf",
        "filename": "third_party/typescript/typescript.gni",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2021-01-29T07:58:23Z",
      "side": 0,
      "message": "I see, sorry I wasn\u0027t very familiar with gn. So use_rbe in https://source.chromium.org/chromium/_/chromium/devtools/devtools-frontend/+/159d86d3fb4b29884f036bd6d08f8003e8cb106f:scripts/build/ninja/devtools_entrypoint.gni;l\u003d132 will become the invoker.use_rbe here?",
      "parentUuid": "afdf6022_bd3a4285",
      "range": {
        "startLine": 137,
        "startChar": 4,
        "endLine": 137,
        "endChar": 36
      },
      "revId": "8c4d6591e05e059903cc45d789db075c6f921b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d72aca2a_a6754ec9",
        "filename": "third_party/typescript/typescript.gni",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2021-01-29T08:01:01Z",
      "side": 0,
      "message": "Exactly :) (and no worries)\n\nI already prepared the reland here: https://crrev.com/c/2659015. The fix is in the diff between PS1 and PS2.",
      "parentUuid": "84040adc_77901daf",
      "range": {
        "startLine": 137,
        "startChar": 4,
        "endLine": 137,
        "endChar": 36
      },
      "revId": "8c4d6591e05e059903cc45d789db075c6f921b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecbe0a3c_fff22f76",
        "filename": "third_party/typescript/typescript.gni",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1323977
      },
      "writtenOn": "2021-01-29T08:02:58Z",
      "side": 0,
      "message": "To add on this, this is hopefully temporary code. We plan to refactor ts_library in the immediate future and the \"devtools_use_rbe\" flag will be folded into the global chromium \"use_rbe\" GN arg once we are somewhat confident that it everything works as we want it to :)",
      "parentUuid": "d72aca2a_a6754ec9",
      "range": {
        "startLine": 137,
        "startChar": 4,
        "endLine": 137,
        "endChar": 36
      },
      "revId": "8c4d6591e05e059903cc45d789db075c6f921b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e731d31_8d5fff7f",
        "filename": "third_party/typescript/typescript.gni",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2021-01-29T08:21:52Z",
      "side": 0,
      "message": "Thanks!",
      "parentUuid": "ecbe0a3c_fff22f76",
      "range": {
        "startLine": 137,
        "startChar": 4,
        "endLine": 137,
        "endChar": 36
      },
      "revId": "8c4d6591e05e059903cc45d789db075c6f921b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}