{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c4f2a7ff_b51b4a1d",
        "filename": "front_end/heap_snapshot_worker/HeapSnapshot.js",
        "patchSetId": 11
      },
      "lineNbr": 1280,
      "author": {
        "id": 1167239
      },
      "writtenOn": "2021-01-20T09:46:08Z",
      "side": 1,
      "message": "The problem I see here is that someone could change one of these strings and forget to change the HeapSnapshotView side, then the text would just not be translated, is that the case?\n\nCould this file refer directly to the strings in profiler/ModuleUIStrings.js instead? ModuleUIStrings could be shared/built in such a way that we can access it here too. Then the strings can\u0027t get out of sync. WDYT?",
      "range": {
        "startLine": 1280,
        "startChar": 32,
        "endLine": 1280,
        "endChar": 56
      },
      "revId": "a667346aba5dfbd7f66c0fac33b4f76d145b2eff",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6b8561a_8c8e166a",
        "filename": "front_end/heap_snapshot_worker/HeapSnapshot.js",
        "patchSetId": 11
      },
      "lineNbr": 1280,
      "author": {
        "id": 1334873
      },
      "writtenOn": "2021-01-21T02:23:21Z",
      "side": 1,
      "message": "\"The problem I see here is that someone could change one of these strings and forget to change the HeapSnapshotView side, then the text would just not be translated, is that the case?\"\n\nYes, but this seems to be inherit from the fact that localized strings should not be used inside the worker (as it does not have a \"display surface\"), ideally the worker and the view would sync using static ID(s) (similar to error codes), and then display the correct string based on that ID (declared only on the view). Fixing this felt like outside of the scope of i18n, this model mimics what is happening today.\n\n\"Could this file refer directly to the strings in profiler/ModuleUIStrings.js instead? ModuleUIStrings could be shared/built in such a way that we can access it here too. Then the strings can\u0027t get out of sync\"\nI went this route and it did not felt the right way as a circular dependency immediately arise (Heap_snapshot_worker requires profiler which at the same time requires heap_snapshot_worker), fixing this dependencies got complicated and hacky as there are a lot of mechanism to prevent this (specially in BUILD.gn). I described above what I think is the ideal solution for this, but for migration purposes this port V1 behavior into V2. Thoughts?",
      "parentUuid": "c4f2a7ff_b51b4a1d",
      "range": {
        "startLine": 1280,
        "startChar": 32,
        "endLine": 1280,
        "endChar": 56
      },
      "revId": "a667346aba5dfbd7f66c0fac33b4f76d145b2eff",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}