{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "69e8c64f_4362e8ce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1396836
      },
      "writtenOn": "2021-10-13T07:44:43Z",
      "side": 1,
      "message": "Hi Alex,\n\nI\u0027m making a change so that the SourcesPanel knows the source of a keyboard shortcut (whether itw as forwarded or not), as we previously triggered the resume twice (once through the inspector overlay and once through the forwarded event. PTAL!",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "70543231_3bcc4960",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1396836
      },
      "writtenOn": "2021-10-13T07:57:00Z",
      "side": 1,
      "message": "Hi Benedikt,\n\nI\u0027m fixing a bug where we were triggering the resume action twice (once from the inspector overlay that appears when we are paused on top of the target page), and once from the forwarded event from the inspector overlay to the sources panel. This change checks if it comes from the forwarded action, and if yes, it doesn\u0027t act on it. PTAL!",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48689f21_86fc8f7f",
        "filename": "front_end/panels/sources/SourcesPanel.ts",
        "patchSetId": 2
      },
      "lineNbr": 1234,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2021-10-13T08:02:54Z",
      "side": 1,
      "message": "could you link to the where the inspector overlay is handling this? I though the overlay just forwards the events and handling should be here.",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "389b2f0f_90d3ddbb",
        "filename": "front_end/panels/sources/SourcesPanel.ts",
        "patchSetId": 2
      },
      "lineNbr": 1234,
      "author": {
        "id": 1396836
      },
      "writtenOn": "2021-10-13T08:12:09Z",
      "side": 1,
      "message": "Sure, on the frontend part:\n\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/devtools-frontend/src/inspector_overlay/tool_paused.ts;l\u003d19;drc\u003d8709d85833f2fde27bea7a396d5e2ffda0340c8a\n\nbackend:\n\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/inspector/inspect_tools.cc;l\u003d841;drc\u003d8ad5a8c531afa65d84c2cdf9d8ffad1841b1b498\n\nI would have expected the same --- but it seems as if it\u0027s not. Not all events are forwarded either, e.g. F10 (step over).",
      "parentUuid": "48689f21_86fc8f7f",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "076cce71_3f6a5a1c",
        "filename": "front_end/panels/sources/SourcesPanel.ts",
        "patchSetId": 2
      },
      "lineNbr": 1234,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2021-10-13T08:21:16Z",
      "side": 1,
      "message": "Ah ok, so is the following correct:\n\n1) If the focus is in the DevTools window, and the user presses F8\n- overlay code path is not triggered\n- DevTools handled F8 in the sources panel\n2) If the focus is in the target page, and the user pressed F8\n- overlay code handles the resume but does not forward the event to the frontend\n- the frontend has some other way to receive forwarded events, and it handles F8 again\n\nI wonder how the event forwarding works?",
      "parentUuid": "389b2f0f_90d3ddbb",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ba06981_51dd354a",
        "filename": "front_end/panels/sources/SourcesPanel.ts",
        "patchSetId": 2
      },
      "lineNbr": 1234,
      "author": {
        "id": 1396836
      },
      "writtenOn": "2021-10-13T08:28:41Z",
      "side": 1,
      "message": "1) is correct\n2) depends on which version you mean; do you mean without this change or with the change?\n\n2.1. without the change\n* overlay code handles the resume and forwards the event to the frontend\n* front-end receives forwarded event and also handles an F8 \n* \u003d\u003e we trigger resume twice, and if we have several breakpoints directly next to each other, we will skip a breakpoint\n\n2.2. with the change\n* overlay code handles the resume and forwards the event to the frontend\n* front-end receives forwarded event, but does not handle the F8 as it was forwarded \n* \u003d\u003e we trigger resume only once, but we are registering the user metric in the front-end (we could not forward, but then we would also not register the user metric)",
      "parentUuid": "076cce71_3f6a5a1c",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6495e836_98c067f4",
        "filename": "front_end/panels/sources/SourcesPanel.ts",
        "patchSetId": 2
      },
      "lineNbr": 1234,
      "author": {
        "id": 1396836
      },
      "writtenOn": "2021-10-13T08:31:50Z",
      "side": 1,
      "message": "But, in general, I\u0027d rather have the isnpector overlay only forwarding events. There is some special handling in the DevTools that the inspector overlay is not aware of (e.g. stepping with skip lists). But I\u0027d suggest to fix this bug first, and then to open a new bug about that, to document how things are / how we want that to change / what would be affected.",
      "parentUuid": "9ba06981_51dd354a",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d72587ff_e5b2b5d2",
        "filename": "front_end/panels/sources/SourcesPanel.ts",
        "patchSetId": 2
      },
      "lineNbr": 1234,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2021-10-13T08:56:33Z",
      "side": 1,
      "message": "I see, thanks for the explanation. So how does the frontend get forwarded events? I don\u0027t find the place where the overlay code forwards the event to the frontend?",
      "parentUuid": "6495e836_98c067f4",
      "revId": "212202731b5074add7b873f0e9f9aa5c57d4ef06",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}