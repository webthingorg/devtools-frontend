{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e6d7ed85_3e8cf414",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2021-01-20T18:27:06Z",
      "side": 1,
      "message": "GRD compression is a serializing long pole in Chromium builds. It is particularly bad in debug builds where it can add O(50) seconds to build times (tested on Windows). This change fixes this for debug builds. PTAL.",
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f1cf2fa_b5cf3d99",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1167239
      },
      "writtenOn": "2021-01-21T08:25:25Z",
      "side": 1,
      "message": "Adding Tim and Alex because they were discussing this yesterday.\nTim compared brotli vs. gzip and found brotli is 10x slower for release and saves ~3% more space.\nNot compressing in debug does seem like a reasonable solution, although if we switch back to gzip then we get the benefit for release builds too and the time for debug should only be a few seconds.\nWDYT Tim + Alex?",
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79e3c17d_578af2a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1118373
      },
      "writtenOn": "2021-01-25T07:02:54Z",
      "side": 1,
      "message": "LGTM with a suggestion.",
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbf2490f_f2597340",
        "filename": "scripts/build/generate_devtools_grd.py",
        "patchSetId": 3
      },
      "lineNbr": 84,
      "author": {
        "id": 1118373
      },
      "writtenOn": "2021-01-25T07:02:54Z",
      "side": 1,
      "message": "Imo we should call this command line flag \"--compress\" to express what this script will be doing. The current decision to compress based on is_debug should be encoded in the build config. That way it will be easier to change that from the build config in the future too, without having to change the script.",
      "range": {
        "startLine": 84,
        "startChar": 8,
        "endLine": 84,
        "endChar": 15
      },
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e661056_c3a4880a",
        "filename": "scripts/build/generate_devtools_grd.py",
        "patchSetId": 3
      },
      "lineNbr": 84,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2021-01-26T09:00:11Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "fbf2490f_f2597340",
      "range": {
        "startLine": 84,
        "startChar": 8,
        "endLine": 84,
        "endChar": 15
      },
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79bcb261_fc7ece7a",
        "filename": "scripts/build/generate_devtools_grd.py",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 1410814
      },
      "writtenOn": "2021-01-21T08:30:50Z",
      "side": 1,
      "message": "I think by default grit uses gzip for compression (see https://source.chromium.org/chromium/chromium/src/+/master:tools/grit/grit/node/base.py;l\u003d633;drc\u003d0e8790c5fc8ab5df43ccf072bf2fdbdcb57d498c) It might be worth including compress\u003dfalse and ship uncompressed resources in debug?",
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf688f99_06803c5f",
        "filename": "scripts/build/generate_devtools_grd.py",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2021-01-26T09:00:11Z",
      "side": 1,
      "message": "With the (\u0027compress\u0027, \u0027brotli\u0027) attribute omitted the entire build step takes only about five seconds in debug builds so if there is compression happening it is fast enough to not matter.",
      "parentUuid": "79bcb261_fc7ece7a",
      "revId": "32427740f46e543659e13da8fe15ed633be6a2f8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}